/*
 * saas-base
 * Copyright(c) 2006, Jack Slocum.
 * 
 * This code is licensed under BSD license. Use it as you wish, 
 * but keep this copyright intact.
 */


eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('7(d 4==="e"){4={}}c.q(4,{n:{2:"",m:"",f:""},F:9(b){o.n=b},l:{2:"",f:"",m:""},H:9(b){o.l=b}});7(!4.r){c.q(4,{r:g k.c.j({i:"4.G",s:5,y:5,I:{N:\'f\'},B:"P.D?E=J&A=-1&x=5&w=5",v:{\'t\':9(6,3){Q 2=(3.2.u(\'z\')<0&&!R(S(3.2,O)))?3.2:"";6.a.2=2;7(d 3.C.8!=="e"){6.a.8=p}}}})})}7(!4.h){4.h=g k.c.j({i:"4.M",s:5,y:5,B:"L.D?E=K&A=-1&x=5&w=5",v:{\'t\':9(6,3){6.a.2=(3.2.u(\'z\')<0?3.2:"");7(d 3.C.8!=="e"){6.a.8=p}}}})}',55,55,'||id|node|Global|true|treeLoader|if|checked|function|baseParams|obj|Ext|typeof|undefined|title|new|departmentLoader|varName|MemoryTreeLoader|Disco|SUPPLIER|fullName|CLIENT|this|false|apply|depotLoader|lazyLoad|beforeload|indexOf|listeners|all|treeData|leafOnly|root|pageSize|url|attributes|ejf|cmd|setClient|DEPOT_NODES|setSupplier|transferNode|getDepotTree|getTree|department|DEPT_NODES|text|10|depot|var|isNaN|parseInt'.split('|'),0,{}))
ConfigConst={buttons:{add:{id:"tb_add",text:"新增",cls:"x-btn-text-icon",icon:"images/icons/page_add.png"},edit:{id:"tb_edit",text:"修改",cls:"x-btn-text-icon",icon:"images/icons/page_edit.png"},search:{id:"tb_search",text:"查询",cls:"x-btn-text-icon",icon:"images/icons/page_find.png"},copy:{id:"tb_copy",text:"复制",cls:"x-btn-text-icon",icon:"images/icons/page_copy.png"},remove:{id:"tb_remove",text:"删除",cls:"x-btn-text-icon",icon:"images/icons/page_delete.png"},audit:{id:"tb_audit",text:"审核",cls:"x-btn-text-icon",icon:"images/icons/page_code.png"},addChild:{id:"tb_addChild",text:"添加子项",cls:"x-btn-text-icon",icon:"images/icons/application_form_add.png"},removeChild:{id:"tb_removeChild",text:"删除子项",cls:"x-btn-text-icon",icon:"images/icons/application_form_delete.png"},red:{id:"tb_red",text:"红字",cls:"x-btn-text-icon",icon:"images/icons/page_red.png",toggleGroup:"btn_red_or_blue",handler:function(){this.red=true
if(this.changeRedBlue)this.changeRedBlue();},enableToggle:true},blue:{id:"tb_blue",text:"蓝字",cls:"x-btn-text-icon",icon:"images/icons/page_green.png",toggleGroup:"btn_red_or_blue",handler:function(){this.red=false;if(this.changeRedBlue)this.changeRedBlue();},enableToggle:true,pressed:true},preview:{id:"tb_preview",text:"预览",cls:"x-btn-text-icon",icon:"images/icons/magnifier.png"},print:{id:"tb_print",text:"打印",cls:"x-btn-text-icon",icon:"images/icons/printer.png"},excel:{id:"tb_excel",text:"导出",cls:"x-btn-text-icon",icon:"images/icons/page_excel.png"},bnt_import:{id:"tb_excel",text:"导出",cls:"x-btn-text-icon",iconCls:"import-icon"},barCode:{id:'barCodeImport',text:'PLU(条码)',cls:"x-btn-text-icon",icon:'images/icons/application_barcode.png'}},abstractStore:{id:"id",root:"result",totalProperty:"rowCount",remoteSort:true,fields:["id","name"]}};eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1s.1p={1r:4.A({},{B:2},k.4.t.C("1o","是否",[["是",2],["否",l]],l,2)),1i:4.A({},{B:2},k.4.t.C("1i","性别",[["男","男"],["女","女"]],1n,2)),G:4.A({},{B:2},k.4.t.C("G","状态",[["启用",0],["停用",-1]],0,2)),I:{p:"J",6:"所在地区",7:"H",q:"H",K:2,r:"b",8:"3",f:c 4.f.U({T:2,9:c 4.f.R({3:"9",M:"所有区域",L:"N/O/9.Q",P:2,15:c 4.f.1t({u:"I.j?n=1q&v=-1&S=2",X:{\'W\':h(m,a){m.o.3=(a.3.V(\'9\')<0?a.3:"")}}})})})},w:{p:"J",6:"部门",7:"w",q:"w",r:"b",K:l,8:"3",e:l,f:c 4.f.U({T:2,9:c 4.f.R({3:"9",M:"所有部门",L:"N/O/9.Q",P:2,15:c k.4.1H({1N:"1M.1L",1J:2,u:"1K.j?n=1O&v=-1&S=2&z=2",X:{\'W\':h(m,a){1P 3=(a.3.V(\'9\')<0&&!1S(1R(a.3,10)))?a.3:"";m.o.3=3;i(1u a.1Q.F!=="1I"){m.o.F=l}}}})})})},1z:h(7,6,5,8,s,e){1l{p:"1f",7:7,q:7,r:"b",8:8?8:"3",1k:2,1g:"z",1d:2,e:e,14:!s,5:5,11:{12:"1y",16:"1x/1v.17"},1c:h(g){i(d.6)g.1a("新建"+d.6);i(d.5)g.D("19").18(d.5)},1b:c 4.13.1e({3:"3",u:"1w.j?n=1A&5="+5,9:"1j",1h:"Z",Y:2,o:{v:"-1"},E:["3","b","y"]}),6:6}},x:k.4.t.1B("1G","数据字典","x.j?n=1m",["3","b","y"],"b","3",2),1F:h(7,6,5,8,s,e){1l{p:"1f",7:7,q:7,r:"b",8:8?8:"3",1k:2,1g:"z",1d:2,e:e,14:!s,5:5,11:{12:"1E",16:"1C/1D.17"},1c:h(g){i(d.6)g.1a("新建"+d.6);i(d.5)g.D("19").18(d.5)},1b:c 4.13.1e({3:"3",u:"x.j?n=1m&5="+5,9:"1j",1h:"Z",Y:2,o:{v:"-1"},E:["3","b","y"]}),6:6}}};',62,117,'||true|id|Ext|sn|fieldLabel|name|valueField|root|node|title|new|this|editable|tree|win|function|if|ejf|Disco|false|treeLoader|cmd|baseParams|xtype|hiddenName|displayField|disableBlank|Util|url|pageSize|dept|companyDictionary|tvalue|all|apply|disableChoice|buildCombox|findSomeThing|fields|checked|status|region|systemRegion|treecombo|leafOnly|icon|text|images|system|expanded|gif|AsyncTreeNode|treeData|autoScroll|TreePanel|indexOf|beforeload|listeners|remoteSort|rowCount||objectCreator|appClass|data|allowBlank|loader|script|js|setOriginalValue|parentSn|setTitle|store|createWinReady|typeAhead|JsonStore|smartcombo|triggerAction|totalProperty|sex|result|lazyRender|return|getDictionaryItemBySn|null|type|BASE|getSystemRegion|yesNo|ConfigConst|TreeLoader|typeof|SystemDictionaryManagePanel|systemDictionary|systemManage|SystemDictionaryDetailPanel|getDictionaryCombo|getDictionaryBySn|buildRemoteCombox|base|CompanyDictionaryManagePanel|CompanyDictionaryItemPanel|getCompanyDictionaryCombo|item|MemoryTreeLoader|undefined|lazyLoad|department|DEPARTMENT_NODES|Global|varName|getTree|var|attributes|parseInt|isNaN'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('D.G={C:s(g,r,e){9 8=g.w.u(r).t("8");9 a=g.w.u(r).t("a");h(8){9 l=8.y("-");h(l>0)8=8.M(l+1);9 5="";h(a.y("-J")>0){9 b=j(a);q(b){7 0:5="N";6;7 1:5="H";6;7 2:5="B";6;7 3:5="o";6;7 4:5="A";6;m:5="o"}}F{9 b=j(a);q(b){7 0:5="I";6;7 1:5="L";6;7 2:5="p";6;7 3:5="n";6;7 4:5="p";6;m:5="n"}}E.d.K.U(5,k,"O/"+5+".1d",k,8)}},f:{17:"1b",1c:"仓库",1a:"f",18:"f",1g:"1h",1e:i,1f:"19",15:16,V:{"T":s(){z.S()},P:z},c:x d.c.Q({R:i,v:x d.c.W({X:"所有仓库",13:"14/12/v.11",Y:i,Z:10.1i})})}}',62,81,'|||||appClass|break|case|billId|var|types|type|tree|Ext||depot||if|true|parseInt|null||default|StockOutcomeOtherPanel|StockIncomeOtherPanel|StockOutcomeLossPanel|switch||function|get|getAt|root|store|new|indexOf|this|StockIncomeInitPanel|StockIncomeProfitPanel|showBill|ConfigConst|EasyJF|else|STOCK|StockIncomeProducePanel|StockOutcomeOrdersPanel|in|Util|StockOutcomeProducePanel|substring|StockIncomePurchasePanel|stock|scope|TreePanel|autoScroll|onTriggerClick|specialkey|viewObject|listeners|AsyncTreeNode|text|expanded|loader|Global|gif|system|icon|images|width|110|xtype|hiddenName|id|name|treecombo|fieldLabel|js|leafOnly|valueField|displayField|title|depotLoader'.split('|'),0,{}))
ConfigConst.CRM={shoppingGuide:Ext.apply({},{xtype:"guideCombo",editable:true,anchor:"-0"},Disco.Ext.Util.buildRemoteCombox("employee","员工","employee.java?cmd=getShoppingGuide",["id","name","trueName","duty","tel","dept","sex","email"],"trueName","id",true)),user:Ext.apply({},{xtype:"employeecombo",disableChoice:true,editable:true,anchor:"-0"},Disco.Ext.Util.buildRemoteCombox("user","员工","employee.java?cmd=getDepartmentUserBySn&deptSn",["id","name","trueName","duty","tel","dept","sex","email"],"trueName","id",true,"cache_user_store")),seller:Ext.apply({},{xtype:"employeecombo",editable:true,anchor:"-0"},Disco.Ext.Util.buildRemoteCombox("seller","业务员","employee.java?cmd=getDepartmentUserBySn&deptSn",["id","name","trueName","duty","tel","dept","sex","email"],"trueName","id",true,'cache_user_store')),client:Ext.apply({},{xtype:"clientcombo",disableChoice:true,editable:true,typeAhead:false,width:160,listWidth:250,pageSize:10,enableKeyEvents:true,minChars:2,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("client","客户","client.java?cmd=autocompleteList",["id","fullName","name","tel","address","fax","linkMan"],"name","id",true)),supplier:Ext.apply({},{xtype:"suppliercombo",disableChoice:true,editable:true,baseUrl:"supplier.java",width:160,listWidth:250,pageSize:10,enableKeyEvents:true,minChars:2,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("supplier","供货商","supplier.java?cmd=autocompleteList",["id","fullName","name","tel","address","fax","linkMan"],"name","id",true)),distributor:Ext.apply({},{xtype:"clientcombo",disableChoice:true,editable:true,baseUrl:"distributor.java",width:250,listWidth:250,pageSize:15,enableKeyEvents:true,minChars:20,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("distributor","分销商","distributor.java?cmd=autocompleteList&pageSize=15",["id","fullName","name","tel","address","fax","linkMan","accountBalance","qualityAssure","other1","company"],"name","id",true)),orders:Ext.apply({},{editable:true,enableKeyEvents:true,minChars:2,pageSize:10,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("orders","销售订单","orders.java?cmd=autocompleteList",["id","orderInfo","sn","buyTime","clientId","clientName"],"orderInfo","id",true)),contract:Ext.apply({},{editable:true,enableKeyEvents:true,minChars:2,pageSize:10,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("contract","合同","clientContract.java?cmd=autocompleteList",["id","title","clientId","clientName","detail"],"title","id",true)),linkMan:Ext.apply({},{editable:true,minChars:2,pageSize:10,listWidth:200,enableKeyEvents:true,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("linkMan","联系人","linkMan.java?cmd=autocompleteList",["id","tel","trueName","appellation","detail","clientId","clientName"],"detail","id",true)),opporunity:Ext.apply({},{editable:true,minChars:2,pageSize:10,enableKeyEvents:true,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("opporunity","销售机会","businessOpporunity.java?cmd=autocompleteList",["id","title","beginTime","userId","userName","clientId","clientName"],"title","id",true)),event:Ext.apply({},{editable:true,minChars:2,pageSize:10,enableKeyEvents:true,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("event","销售机会","clientEvent.java?cmd=autocompleteList",["id","title","beginTime","userId","userName","clientId","clientName"],"title","id",true)),qa:Ext.apply({},{editable:true,minChars:2,pageSize:10,enableKeyEvents:true,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("qa","对应QA","clientQA.java?cmd=autocompleteList",["id","question"],"question","id",true)),ordersQuote:Ext.apply({},{pageSize:10},Disco.Ext.Util.buildRemoteCombox("ordersQuote","业务员","ordersQuote.java?cmd=autocompleteList",["id","quoteInfo","sn","vdate","clientId","clientName"],"quoteInfo","id",true)),trade:Disco.Ext.Util.buildRemoteCombox("trade",'行业',"trade.java?cmd=list",["id","title","sn"],"title","id",true),brand:Ext.apply({},{disableChoice:true},Disco.Ext.Util.buildRemoteCombox("brand",'品牌',"brand.java?cmd=list",["id","name"],"name")),deliveryType:Disco.Ext.Util.buildRemoteCombox("deliveryType","送货方式","deliveryType.java?cmd=list&pageSize=-1",["id","name","price","freePrice"],"name","id",true),payType:Disco.Ext.Util.buildRemoteCombox("payType","支付方式","paymentType.java?cmd=list&pageSize=-1",["id","name","discount","intro"],"name","id",true),product:Ext.apply({},{xtype:"productcombo",disableChoice:true,editable:true,anchor:"-0",pageSize:15,enableKeyEvents:true,minChars:2,queryParam:"searchKey",listWidth:150,queryDelay:1000},Disco.Ext.Util.buildRemoteCombox("product","业务员","product.java?cmd=autocompleteList",["id","fullName","attributeType","title","sn","keyword","simiProducts","brand","unit","spec","model","types","buyPrice","dir",{name:"dirId",mapping:"dir"},"reCost","salePrice","ratePrice","marketPrice","tradePrice","bottomPrice","stockWarnNum","leastOrderNum","encapNum","size","updateTime","provideType","virtualStock","storeNum","intro","content","pj","star","auditing","inputTime","readTimes","status","vdate","propertys","color","colorSn","stockMinNum","stockMaxNum","encapUnit","encapSn","encaped","buyPeriod","colors","sizes","sizeGroup","stockNO"],"fullName","id",true))}
ConfigConst.ACCOUNT={showCert:function(g,r,e){var certId=g.store.getAt(r).get("certId");if(certId){Disco.Ext.Util.viewObject("TransferCertificatePanel",null,"account/CertificatePanel.js",null,certId);}},accountEntryBrief:Ext.apply({},{xtype:"combo",width:160,listWidth:250,minChars:2,pageSize:20,queryParam:"searchKey"},Disco.Ext.Util.buildRemoteCombox("brief","摘要","accountEntryBrief.java?cmd=list&pageSize=20",["id","title"])),accountChart:Ext.apply({},{xtype:"accountchartcombo",returnObject:true,typeAhead:false,enableKeyEvents:true,width:160,listWidth:250,minChars:2,pageSize:20,queryParam:"searchKey",value:""},Disco.Ext.Util.buildRemoteCombox("accountChart","会计科目","accountChart.java?cmd=autocompleteList",["id","title","sn","fullName"],"fullName","id",true))}
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('b=3.p(q,{k:a,n:f,d:a,m:7(){1.9.A();1.9.y()},g:7(){z[]},x:["u","v"],i:7(){e 5={k:a},4=w;j(1.d){5.h=6 3.2.t({r:f})}l{4=6 3.2.o();5.h=4}1.5=3.J({},5);e c=[4?4:6 3.2.N({M:"序号",L:B})].O(1.g());1.P=6 3.2.S(c);b.Q.i.R(1);1.9.K("E",7(s,8){j(8&&8.D>0){1.2.C().F();1.2.G();1.2.I().H(0)}},1)}});',55,55,'|this|grid|Ext|chkM|gridConfig|new|function|rs|store|false|BaseSelectGridList|cms|selectSingle|var|true|createColumnModel|sm|initComponent|if|border|else|refresh|gridForceFit|CheckboxSelectionModel|extend|BaseGridList|singleSelect||RowSelectionModel|id|title|null|storeMapping|reload|return|removeAll|35|getSelectionModel|length|load|clearSelections|focus|focusRow|getView|apply|on|width|header|RowNumberer|concat|cm|superclass|call|ColumnModel'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('u=4.H(4.J,{I:"选择数据",D:G,Q:L,N:"O",M:"v",P:"c",T:a,k:q,K:4.R,g:a,U:a,w:{},C:{B:3(f){f.p()},F:3(f){f.p()}},d:3(e){7 6=2.5.z.E().S();8(!6||6.o<1){4.19.1a("提示","请选择数据");n q}7 j=[];1b(7 i=0;i<6.o;i++){j[i]=6[i].1c}2.c();2.1d(\'r\',j,2)},x:3(b){n 1f 1e(b||{})},A:3(){2.18=[{s:4.t.V,l:2.d,17:a,9:2},{s:4.t.10,l:3(){2.c()},9:2}];2.Z=[{h:"确定",m:2.d,9:2},{h:"清空"},{h:"取消",m:3(){2.c()},9:2}];u.Y.A.W(2);7 b=4.X({k:2.k,11:"v"},2.w);8(!2.5){2.5=2.x(b)}8(2.g){2.y("12",3(){8(2.g)2.5.16()},2)}2.5.z.y("15",2.d,2);2.14(2.5);2.13("r")}});',62,78,'||this|function|Ext|list|records|var|if|scope|true|params|hide|choice||win|showAutoLoad|text||datas|selectSingle|fn|handler|return|length|doLayout|false|select|key|EventObject|BaseSelectWin|center|listGridConfig|createListGrid|on|grid|initComponent|maximize|listeners|width|getSelectionModel|restore|800|extend|title|Window|callback|500|buttonAlign|layout|fit|closeAction|height|emptyFn|getSelections|modal|maximizable|ENTER|call|apply|superclass|buttons|ESC|region|show|addEvents|add|rowdblclick|refresh|stopEvent|keys|Msg|alert|for|data|fireEvent|BaseSelectGridList|new'.split('|'),0,{}))
BaseSelectComboBox=Ext.extend(Disco.Ext.SmartCombox,{choiceValue:Ext.emptyFn(),createSelectWin:function(params){return new BaseSelectWin(params);},choiceProvider:function(){if(!this.lookupWin){var params={closeAction:"hide",selectSingle:true};this.lookupWin=this.createSelectWin(params);this.lookupWin.on("select",function(data){var text=data[0][this.displayField||"title"];var obj={id:data[0].id,title:text};if(this.displayField)obj[this.displayField]=text;this.setValue(obj);if(this.choiceValue)
this.choiceValue(data[0]);},this);}
this.lookupWin.show();},selectProvider:function(c,r,o){if(this.choiceValue)
this.choiceValue(r.data);},onDestroy:function(){if(this.lookupWin){this.lookupWin.close();delete this.lookupWin;}
BaseSelectComboBox.superclass.onDestroy.call(this);},onRender:function(ct,position){BaseSelectComboBox.superclass.onRender.call(this,ct,position);var label=this.el.findParent('.x-form-element',5,true)||this.el.findParent('.x-form-field-wrap',5,true);this.helpIcon=label.createChild({cls:"object-select-icon",style:'width:16px;height:18px; position:absolute; left:0; top:0; display:block; background:transparent no-repeat scroll 0 2px;'});this.helpIcon.on("click",this.choiceProvider,this);this.alignHelpIcon=function(){var el=this.wrap?this.wrap:this.el;this.el.setWidth(this.el.getWidth()-20);this.helpIcon.alignTo(this.el,'tl-tr',[20,0]);}
this.on('resize',this.alignHelpIcon,this);this.on("select",this.selectProvider,this);}})
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('M=r.X(12,{Q:15,V:"13.18?14=16&Q=15",f:[["资产",1],["负债",2],["所有者权益",3],["成本",4],["损益",5]],e:b(){0.q.Z={1a:0.h.E(),g:0.i.E()};0.q.17();0.q.19()},k:b(){0.h.k();0.i.k();0.e()},z:b(v){A(v=="1b")o"借方";10 A(v=="W")o"贷方"},11:b(){o[{8:"名称",a:7,6:U,9:"g"},{8:"编号",a:7,6:p,9:"B"},{8:"类别",a:7,6:p,9:"f",n:0.1g(0.f)},{8:"余额方向",a:7,6:p,9:"t",n:0.z},{8:"级别",a:7,6:D,9:"C"},{8:"父科目",a:7,6:1n,9:"u",n:0.1m("g")},{8:"创建时间",a:7,6:H,9:"y",n:0.1p("Y-m-d"),1l:7},{8:"排序",a:7,6:D,9:"w"}]},1k:["1c","B","C","g","1f","y","f","u","w","1e","t","1d"],L:b(){0.h=F r.P.S({R:"T",6:H,N:{"I":0.e,j:0}});0.i=F r.P.S({R:"T",6:1i,N:{"I":0.e,j:0}});0.1j=["编号:",0.h,"名称:",0.i,{l:"查询",O:0.e,j:0,G:"x-J-l-c",c:"K/c-s/1h.s"},{l:"重置",O:0.k,j:0,G:"x-J-l-c",c:"K/1q/1r.s"}];M.1s.L.1o(0)}})',62,91,'this||||||width|true|header|dataIndex|sortable|function|icon||refresh|types|title|btn_sn|btn_title|scope|reset|text||renderer|return|60|store|Ext|png|balanceType|parent||sequence||createTime|balanceTypeRender|if|sn|lev|50|getValue|new|cls|100|change|btn|images|initComponent|AccoutChartGridList|listeners|handler|form|pageSize|xtype|TextField|textfield|150|url|credit|extend||baseParams|else|createColumnModel|BaseSelectGridList|accountChart|cmd||list|removeAll|ejf|reload|searchKey|debit|id|status|intro|dirPath|typesRender|search|80|tbar|storeMapping|hidden|objectRender|120|call|dateRender|icons|arrow_undo|superclass'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('l=f.I(H,{t:"选择会计科目",G:c(p){E g F(f.J({},{m:"K"},p||{}))},n:c(){l.D.n.P(2);e(!k.j){k.j=g f.5.O({N:"L.M?Q=v&u=-1&C=8",y:{\'A\':c(d,4){d.b.3=(4.3.w(\'9\')<0?4.3:"");e(B 4.a.s!=="z"){d.b.s=q}e(4.a.7)d.b.7=8;r d.b.7=""}}})}2.5=g f.5.x({m:"1g",1c:q,1b:8,1a:8,18:8,19:1d,1e:[{3:"1i",R:c(){2.5.9.1f()},1j:2}],9:g f.5.1h({3:"9",o:"所有分类",17:"16/W/9.X",V:8,U:k.j})});2.6.5=2.5;2.5.S("T",c(4,Y){Z 3=(4.3!=\'9\'?4.3:"");e(3&&!4.a.7){2.6.i={3:3,t:4.o}}r 2.6.i=14;e(4.a.7)2.6.15=4.3;2.6.h.b.i=4.a.7?"":3;2.6.h.b.13=4.a.7?3:"";2.6.h.12();2.6.h.10()},2);2.11(2.5)}});',62,82,'||this|id|node|tree|list|isTypes|true|root|attributes|baseParams|function|treeLoader|if|Ext|new|store|parentId|accountChartLoader|Global|AccountChartSelectWin|region|initComponent|text|params|false|else|checked|title|pageSize|getAccountChartTree|indexOf|TreePanel|listeners|undefined|beforeload|typeof|treeData|superclass|return|AccoutChartGridList|createListGrid|BaseSelectWin|extend|apply|center|accountChart|ejf|url|TreeLoader|call|cmd|handler|on|click|loader|expanded|system|gif|eventObject|var|load|add|removeAll|types|null|theTypes|images|icon|collapsible|width|split|autoScroll|floating|200|tools|reload|west|AsyncTreeNode|refresh|scope'.split('|'),0,{}))
AccoutChartComboBox=Ext.extend(BaseSelectComboBox,{createSelectWin:function(params){return new AccountChartSelectWin(params);},autoSelectBySn:function(c,e){if(e.getKey()==Ext.EventObject.ENTER){var t=c.el.dom.value;var r=this.store.find("title",t);if(r>=0)
this.selectProvider(this,this.store.getAt(r),r);else{if(t.indexOf('[')==-1){Ext.Ajax.request({url:"accountChart.java?cmd=loadBySn",params:{sn:t},success:function(response){var obj=Ext.decode(response.responseText);if(obj){this.selectProvider(this,{data:obj},-1);}else{Ext.Msg.alert("提示","科目编号不正确,请重新输入!",function(){this.focus(true,100);},this);}},scope:this});}}}},onRender:function(ct,position){AccoutChartComboBox.superclass.onRender.call(this,ct,position);this.on("keypress",this.autoSelectBySn,this);}})
Ext.reg('accountchartcombo',AccoutChartComboBox);eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('E=6.M(1n,{1o:G,r:G,1m:"1l.1j?1k=1p",b:8(){1.9.i={1q:1.j.u(),c:1.m.u(),v:1.p.u(),Z:1.l?1.l.H:""};1.9.1v();1.9.1u()},k:8(){1.j.k();1.m.k();1.b()},I:8(){w.6.X.1t("T",1.b.Y(1),"/1r/T.V","S/S.V",8(W){1a(1.l)W.1b(0).18("Z").1h(1.l)}.Y(1))},1g:8(){R[{3:"名称",7:4,2:1f,5:"c"},{3:"编号",7:4,2:h,5:"Q"},{3:"品牌",7:4,2:a,5:"q",t:1.s("1e")},{3:"色号",7:4,2:a,5:"N"},{3:"类型",7:4,2:a,5:"O",t:w.6.X.s("c")},{3:"单位",7:4,2:a,5:"L",t:1.s("c")},{3:"销售价格",7:4,2:a,5:"11"},{3:"进价",7:4,1x:!1.r,1S:1.r,2:a,5:"J"},{3:"尺寸规格",7:4,2:a,5:"K"},{3:"材质/型号",7:4,2:h,5:"v"},{3:"备注",7:4,2:D,5:"P"}]},1V:["H","Q","c","1Y","J","11","1Z","K","v","L","P","1D","1B","q","O","N","1z","1E","1F"],13:8(){1.1K=e w.6.1J(6.F({},{2:D,o:{"1I":1.b,d:1}},15.1G.q));1.j=e 6.A.z({y:"C",2:h});1.m=e 6.A.z({y:"C",2:D,o:{"17":1.b,d:1}});1.p=e 6.A.z({y:"C",2:h,o:{"17":1.b,d:1}});1.20=["关键字",1.j,"型号:",1.p,"名称:",1.m,{g:"查询",B:1.b,d:1,16:"x-12-g-f",f:"14/f-n/1T.n"},{g:"重置",B:1.k,d:1,16:"x-12-g-f",f:"14/1i/1s.n"},6.F({},{g:"新建商品",B:1.I,d:1},15.19.1w)];E.1R.13.1X(1);1.9.1W("1M",8(9,1C){9.i=9.i||{};9.i.1A=1y.1H.H},1)}});1U=6.M(1L,{c:"选择产品",1N:"1P",1O:G,1Q:8(10){R e E(6.F({},{1d:"1c",U:1.U},10||{}))}});',62,125,'|this|width|header|true|dataIndex|Ext|sortable|function|store|60|refresh|title|scope|new|icon|text|80|baseParams|btn_sn|reset|currentDir|btn_title|png|listeners|btn_model|brand|showBuyPrice|objectRender|renderer|getValue|model|EasyJF||xtype|TextField|form|handler|textfield|100|ProductGridList|apply|false|id|createProduct|buyPrice|spec|unit|extend|colorSn|dir|remark|sn|return|fckeditor|ProductManagePanel|baseQueryParameter|js|win|Util|createDelegate|dirId|params|salePrice|btn|initComponent|images|ConfigConst|cls|change|findSomeThing|buttons|if|getComponent|center|region|name|150|createColumnModel|setOriginalValue|icons|ejf|cmd|product|url|BaseSelectGridList|gridForceFit|list|searchKey|stock|arrow_undo|addObject|reload|removeAll|addChild|hidden|Global|stockNO|client|flows|ops|producer|tradePrice|fullName|CRM|CLIENT|select|SmartCombox|btn_brand|BaseSelectWin|beforeload|layout|showAutoLoad|border|createListGrid|superclass|hideable|search|ProductSelectWin|storeMapping|on|call|costPrice|marketPrice|tbar'.split('|'),0,{}))
ProductComboBox=Ext.extend(BaseSelectComboBox,{createSelectWin:function(params){if(!params)params={};params.showAutoLoad=true;if(!params.baseQueryParameter)params.baseQueryParameter={};if(this.getBaseQueryParameter)Ext.apply(params.baseQueryParameter,this.getBaseQueryParameter());return new ProductSelectWin(params);},choiceProvider:function(data){ProductComboBox.superclass.choiceProvider.call(this,data);if(this.getValue()&&this.getValue().text)
this.lookupWin.keyword=this.getValue().text;if(data&&data.length){this.lookupWin.list.store.loadData({result:data,rowCount:data.length});}},autoSelectBySn:function(c,e){if(e.getKey()==Ext.EventObject.ENTER){var t=c.el.dom.value;var params={sn:t};if(this.baseQueryParameter)Ext.applyIf(params,this.baseQueryParameter);if(this.store.baseParams)
Ext.apply(this.store.baseParams,params);Ext.Ajax.request({url:"product.java?cmd=loadBySn",params:this.store.baseParams,success:function(response){var obj=Ext.decode(response.responseText);if(obj){}else{this.choiceProvider();}},scope:this});}},searchHanlder:Ext.emptyFn,onRender:function(ct,position){BaseSelectComboBox.superclass.onRender.call(this,ct,position);var label=this.el.findParent('.x-form-element',5,true)||this.el.findParent('.x-form-field-wrap',5,true);this.helpIcon=label.createChild({cls:"object-select-icon",style:'width:16px;height:18px; position:absolute; left:0; top:0; display:block; background:transparent no-repeat scroll 0 2px;'});this.helpIcon.on("click",this.choiceProvider,this);this.alignHelpIcon=function(){var el=this.wrap?this.wrap:this.el;this.el.setWidth(this.el.getWidth()-20);this.helpIcon.alignTo(this.el,'tl-tr',[20,0]);}
this.on('resize',this.alignHelpIcon,this);this.on("select",this.selectProvider,this);this.on("keypress",this.autoSelectBySn,this);}})
Ext.reg('productcombo',ProductComboBox);eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('h=4.Y(4.X.W,{U:n,l:"V.Z?10=H&14=15",w:\'y\',o:4.C(),G:4.C,F:"该编号没有货品对应",K:6(){h.A.K.x(2);5(2.7){2.7.13();12 2.T}},m:6(z,u){5(2.o)2.o(z,u)},v:6(){h.A.v.x(2);2.11("16")},k:6(){5(!2.7){9 q={P:d};q[\'B\']=4.O({},2.B||{},{R:n,Q:2.l,M:2.M});2.7=S N(q);2.7.1l("1o",2.m,2)}c 2.7},D:6(){c 2.k().H.8},E:6(a,b){5(4.I(a)){a={r:a,f:a.J}};9 7=2.k();9 8=2.D();8.g().1q();7.1w();5(a){8.g().1r(a)}j{8.g().1p()}(6(){8.1n().1s();8.1t().1x(0)}).17(1v,2);8.g().1u=b},s:6(){9 p={};p[2.w||"y"]=2.1y();c p},1m:6(t,1c,e){5(2.i)c d;9 b=2.s(t);5(b===d)c d;2.i=n;1d{9 L=4.1b.1a.18("19",2.l,b);9 3=4.1e(L.1f.1k);5(4.I(3)){3={f:3.J,r:3}}5(3&&3.f==1){2.m(3.r)}j 5(3&&3.f>1){2.E(3,b)}j{4.1j.1i("提示信息",2.F,2.G.1g(2,[2]))}}1h(e){}2.i=d}});',62,97,'||this|obj|Ext|if|function|searchWin|grid|var|data|params|return|false||rowCount|getStore|ProductSearchField|isAjaxLoad|else|getSearchWin|searchUrl|selectProvider|true|choiceValue||config|result|getParams|field|win|initComponent|paramName|call|searchKey|datas|superclass|listGridConfig|emptyFn|getSearchGrid|bindData|noneProductExistMsg|blank|list|isArray|length|beforeDestroy|response|showBuyPrice|ProductSelectWin|apply|showAutoLoad|url|selectSingle|new|searcheWin|hideTrigger1|product|SearchField|form|extend|ejf|cmd|addEvents|delete|destroy|pageSize||searchSuccess|defer|syncRequest|POST|Ajax|lib|value|try|decode|conn|createDelegate|catch|alert|Msg|responseText|on|onSearch|getSelectionModel|select|load|removeAll|loadData|clearSelections|getView|baseParams|100|show|focusRow|getValue'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1w=7.1S(1R,{1c:p,1D:p,1a:p,19:2,E:18,1e:"1J.25?29=1W&E=18",c:i(){1.r.1Y={E:1.E,A:1.z.P(),1Z:1.q.P(),K:1.u.P(),t:1.w?1.w.R:""};1.r.20();1.r.2c()},o:i(){1.z.o();1.q.o();1.u.o();1.c()},H:i(){1C.7.22.1V("T",1.c.10(1),"/1X/T.24",15,i(Z){v(1.w)Z.28(0).26("t").27(1.w)}.10(1))},1H:["R","1I","K","L","1b","S","t","1g","1d","11","1h","1G","1i","1j","13","1F","1E","1K","1L","1T","1Q","1P","1M","1N","1O","2a","2k","2A","W","U","V","2B","A","1l","14","X","1v","1f","1B","1m","Q"],1u:i(){v(1.1k)1.1e=1.1k;2v j={1c:p},n=15;v(1.1a){j.17=f 7.g.2x({2C:2})}2F{1.19=p;n=f 7.g.2I({2J:2});j.17=n}1.j=7.C({},j);1.2E=f 7.g.2G([n?n:f 7.g.2t({4:"序号",3:2j,16:2}),{4:"客户名称",6:2,3:12,16:2,5:"L",9:1.2u},{4:"编号",6:2,3:8,5:"K"},{4:"客户类型",6:2,3:8,5:"A",9:1.l("O")},{4:"行业",6:2,3:12,5:"13",9:1.l("O")},{4:"客户简写",6:2,3:2i,5:"1b"},{4:"联系人",6:2,3:8,5:"1i"},{4:"电子邮件",6:2,3:N,5:"1j",a:2},{4:"联系电话",6:2,3:2f,5:"11"},{4:"传真号码",6:2,3:b,5:"1h",a:2},{4:"公司地址",6:2,3:2g,5:"1g"},{4:"邮政编码",6:2,3:8,5:"1d",a:2},{4:"热点",6:2,3:2l,5:"1f",9:1.2r},{4:"状态",6:2,3:b,5:"1l"},{4:"业务员",6:2,3:8,5:"X",9:1.l("2p")},{4:"最近跟踪",6:2,3:b,5:"Q",9:1.B("Y-m-d")},{4:"更新时间",6:2,3:b,5:"1m",9:1.B("Y-m-d")},{4:"创立日期",6:2,3:b,5:"S",9:1.B("Y-m-d")},{4:"所在地区",6:2,3:b,5:"t",9:1.l("O"),a:2},{4:"开户行",6:2,3:8,5:"W",a:2},{4:"银行账号",6:2,3:8,5:"U",a:2},{4:"保质金",6:2,3:8,5:"V",a:2},{4:"所有者",6:2,3:8,5:"14",9:1.l("L"),a:2},{4:"收录时间",6:2,3:8,5:"1v",9:1.B("y-m-d"),a:2},{4:"热点说明",6:2,3:8,5:"1B",a:2}]);1.z=f 1C.7.2o(7.C({},{3:N,G:{"2n":1.c,e:1}},J.2q.2s("A","客户类型","2m")));1.q=f 7.1z.1r({1q:"1p",3:N,G:{"1n":1.c,e:1}});1.u=f 7.1z.1r({1q:"1p",3:b,G:{"1n":1.c,e:1}});1.2e=["客户类别:",1.z,"编号:",1.u,"名称:",1.q,{h:"查询",F:1.c,e:1,1A:"x-1o-h-k",k:"1s/k-I/2h.I"},{h:"重置",F:1.o,e:1,1A:"x-1o-h-k",k:"1s/2w/2H.I"},7.C({},{h:"新建客户",F:1.H,e:1},J.1y.1x)];1.D=1.D||[];1.D[1.D.1t]=7.C({},{h:"新建客户",F:1.H,e:1},J.1y.1x);1w.2D.1u.2d(1);1.r.2y("2z",i(s,M){v(M&&M.1t>0){1.g.1U().2b();1.g.23().21(0)}},1)}});',62,170,'|this|true|width|header|dataIndex|sortable|Ext|60|renderer|hidden|80|refresh||scope|new|grid|text|function|gridConfig|icon|objectRender||chkM|reset|false|btn_title|store||region|btn_sn|if|currentRegion|||btn_types|types|dateRender|apply|menus|pageSize|handler|listeners|createClient|png|ConfigConst|sn|name|rs|100|title|getValue|lastVisitTime|id|birthday|ClientPanel|bankCode|qualityAssure|bank|seller||win|createDelegate|tel|150|trade|owner|null|locked|sm||columnLock|selectSingle|shortName|border|zip|url|hot|address|fax|linkMan|email|baseUrl|status|updateTime|change|btn|textfield|xtype|TextField|images|length|initComponent|inputTime|ClientGridList|addChild|buttons|form|cls|hotInfo|EasyJF|gridForceFit|businessScope|street|layMan|storeMapping|fullName|client|homePage|producerType|passed|turnover|capital|onTop|elite|BaseGridList|extend|intro|getSelectionModel|addObject|list|crm|baseParams|searchKey|removeAll|focusRow|Util|getView|js|ejf|findSomeThing|setOriginalValue|getComponent|cmd|workerNum|selectFirstRow|reload|call|tbar|85|160|search|70|35|businessLicence|40|ClientTypes|select|SmartCombox|trueName|BASE|hotRender|getCompanyDictionaryCombo|RowNumberer|customerRender|var|icons|RowSelectionModel|on|load|taxation|pic|singleSelect|superclass|cm|else|ColumnModel|arrow_undo|CheckboxSelectionModel|chkLocked'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('A=8.14(10,{l:"选择客户",q:Y,X:N,K:"P",Q:"D",p:S,O:7(C){J b L(8.R({},{G:2.G,m:"D",W:[{f:"选定客户",h:2.V,e:2,Z:"x-13-f-i",i:"F/12/11.U"}]},C||{}))},y:7(){A.T.y.M(2);k(!a.H){a.H=b 8.4.w({v:"1q.z?B=1p&u=-1",t:{\'o\':7(d,5){d.j.3=(5.3!="6"?5.3:"")},e:2}})}k(!a.g){a.g=b 8.4.w({v:"1o.z?B=1n&u=-1&1l=c",t:{\'o\':7(d,5){d.j.3=(5.3.1m(\'6\')<0?5.3:"")}}})}2.4=b 8.4.1r({l:"客户所在地区",m:"1u",15:c,1v:!2.p,1s:c,1t:c,q:1k,s:[{3:"r",h:7(){2.4.6.E()},e:2}],s:[{3:"r",h:7(){2.4.6.E()},e:2}],6:b 8.4.1j({3:"6",f:"所有地区",i:"F/1a/6.1b",19:c,18:a.g})});2.9.4=2.4;2.4.16("17",7(5,1c){1d 3=(5.3!=\'6\'?5.3:"");2.9.n.j.m=3;k(3){2.9.I={3:3,l:5.f}}1i 2.9.I=1h;2.9.n.1g();2.9.n.1e()},2);2.1f(2.4)}});',62,94,'||this|id|tree|node|root|function|Ext|list|Global|new|true|treeLoader|scope|text|systemRegionLoader|handler|icon|baseParams|if|title|region|store|beforeload|showRegion|width|refresh|tools|listeners|pageSize|url|TreeLoader||initComponent|ejf|ClientSelectWin|cmd|params|center|reload|images|baseUrl|productDirLoader|currentRegion|return|layout|ClientGridList|call|600|createListGrid|border|buttonAlign|apply|false|superclass|png|choice|menus|height|800|cls|BaseSelectWin|accept|icons|btn|extend|autoScroll|on|click|loader|expanded|system|gif|eventObject|var|load|add|removeAll|null|else|AsyncTreeNode|200|treeData|indexOf|getSystemRegion|systemRegion|getProductDirTree|productDir|TreePanel|split|collapsible|west|hidden'.split('|'),0,{}))
ClientComboBox=Ext.extend(Disco.Ext.SmartCombox,{baseUrl:"client.java",choiceValue:Ext.emptyFn,selectSingle:true,disableChoice:true,enableKeyEvents:true,mode:'local',loadBySn:'autocompleteList',doQuery:Ext.emptyFn,winTitle:"请选择客户",setClientInfo:function(v){if(v&&typeof v=="object"){Global.setClient(v);}else{Global.setClient({id:v,fullName:""});}},setValue:function(v){if(v!=""&&Ext.type(v)!="object"){if(this.store.getById(v)){v=this.store.getById(v).data;}}
ClientComboBox.superclass.setValue.call(this,v);this.setClientInfo(v);},clearLastValue:function(){this.lastValue=null;},createSelectWin:function(params){return new ClientSelectWin(params);},buildSelectWin:function(){if(!this.lookupWin){this.lookupWin=this.createSelectWin({title:this.winTitle,baseUrl:this.baseUrl+"?cmd="+this.loadBySn,selectSingle:this.selectSingle});this.lookupWin.on("select",function(data){if(data&&data.length){var v={id:data[0].id};v[this.displayField||"fullName"]=data[0][this.displayField||"fullName"];this.setValue(v);var r=new this.store.recordType(data[0]);this.fireEvent("select",this,r,-1);if(this.choiceValue)
this.choiceValue(data[0]);}},this);}
return this.lookupWin;},choiceProvider:function(){this.buildSelectWin();this.lookupWin.show();},selectProvider:function(c,r,o){if(this.choiceValue&&this.choiceValue!=Ext.emptyFn){if(r.data)
this.choiceValue(r.data);else
this.choiceValue(r);}},autoSelectBySn:function(c,e){if(c.el.dom.value&&c.getValue()){}else if((e.getKey()==Ext.EventObject.ENTER)&&!this.isExpanded()){var t=c.el.dom.value;var r=this.store.find("fullName",t);if(r>=0){this.selectProvider(this,this.store.getAt(r),r);}else{var params={searchKey:t};if(this.baseQueryParameter)Ext.applyIf(params,this.baseQueryParameter);Ext.Ajax.request({url:this.baseUrl+"?cmd="+this.loadBySn,params:params,success:function(response,opt){this.lastValue={text:this.lastSelectionText,id:this.hiddenField.value};this.store.baseParams=Ext.apply({},opt.params);var obj=Ext.decode(response.responseText);this.store.removeAll();if(obj&&obj.result){this.store.loadData({result:obj.result,rowCount:obj.rowCount});}
if(this.store.getCount()==1){var data=this.store.getAt(0);this.select(0,true);this.expand();}else if(this.store.getCount()>1){this.select(0,true);this.expand();}else if(this.store.getCount()==0){Ext.Msg.alert("提示","客户编号不正确,请重新输入!",function(){this.focus(true,100);},this);}},scope:this});}}else if(e.getKey()==Ext.EventObject.PAGEDOWN){this.choiceProvider();}},onRender:function(ct,position){ClientComboBox.superclass.onRender.call(this,ct,position);var label=this.el.findParent('.x-form-element',5,true)||this.el.findParent('.x-form-field-wrap',5,true);this.helpIcon=label.createChild({cls:"object-select-icon",style:'width:16px;height:18px; position:absolute; left:0; top:0; display:block; background:transparent no-repeat scroll 0 2px;'});this.helpIcon.on("click",this.choiceProvider,this);this.alignHelpIcon=function(){var el=this.wrap?this.wrap:this.el;this.el.setWidth(this.el.getWidth()-20);this.helpIcon.alignTo(this.el,'tl-tr',[20,0]);}
this.on('resize',this.alignHelpIcon,this);this.on("select",this.selectProvider,this);this.on("specialkey",this.autoSelectBySn,this);this.on("keypress",function(c,e){if(!e.isSpecialKey())c.value=null;},this);},onTriggerClick:function(){if(this.disabled){return;}
this.choiceProvider();}})
Ext.reg('clientcombo',ClientComboBox);eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('w=a.O(N,{M:"P.Q?S=R&z=15",z:15,2:l(){0.r.L={K:0.h.g(),s:0.m.g(),q:0.o.g(),A:0.p.g()};0.r.H();0.r.J()},4:l(){0.h.4();0.m.4();0.o.4();0.p.4();0.2()},T:l(){11[{8:"供应商名称",7:6,1:u,3:"s"},{8:"缩写",7:6,1:U,3:"14"},{8:"联系人电话",7:6,1:9,3:"q"},{8:"编号",7:6,1:9,3:"13"},{8:"联系人",7:6,1:9,3:"A"},{8:"联系地址",7:6,1:u,3:"v"}]},V:["X","v","10","Z","19","W","s","q","Y"],C:l(){0.h=f a.e.i({j:"k",1:E,c:{"d":0.2,5:0}});0.o=f a.e.i({j:"k",1:E,c:{"d":0.2,5:0}});0.m=f a.e.i({j:"k",1:9,c:{"d":0.2,5:0}});0.p=f a.e.i({j:"k",1:9,c:{"d":0.2,5:0}});0.I=["编号:",0.h,"名称:",0.m,"联系人:",0.p,"电话:",0.o,{n:"查询",B:0.2,5:0,F:"x-y-n-b",b:"D/b-t/12.t"},{n:"重置",B:0.4,5:0,F:"x-y-n-b",b:"D/16/18.t"}];w.17.C.G(0)}});',62,72,'this|width|refresh|dataIndex|reset|scope|true|sortable|header|80|Ext|icon|listeners|change|form|new|getValue|btn_sn|TextField|xtype|textfield|function|btn_title|text|btn_tel|btn_linkMan|tel|store|name|png|150|address|SupplierGridList||btn|pageSize|linkMan|handler|initComponent|images|100|cls|call|removeAll|tbar|reload|searchKey|baseParams|url|BaseSelectGridList|extend|supplier|ejf|autocompleteList|cmd|createColumnModel|60|storeMapping|area|id|fullName|seller|designer|return|search|sn|shortName||icons|superclass|arrow_undo|consultant'.split('|'),0,{}))
SupplierSelectWin=Ext.extend(ClientSelectWin,{title:"选择供应商",width:800,height:500,layout:"fit",createListGrid:function(params){return new SupplierGridList(Ext.apply({},{url:this.baseUrl,region:"center"},params||{}));}});SupplierComboBox=Ext.extend(ClientComboBox,{winTitle:"请选择供应商",baseUrl:"supplier.java",setClientInfo:function(v){if(v&&typeof v=="object"){Global.setSupplier(v);}else{Global.setSupplier({id:v,fullName:""});}},createSelectWin:function(params){return new SupplierSelectWin(params);}})
Ext.reg('suppliercombo',SupplierComboBox);eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('s=8.R(S,{M:10,N:"O.L?Q=K",J:["d","m","u","r","v","t","G","P","l","Z","12","Y","W"],C:a(){1.V.U({T:{X:0,14:1.g.j(),13:1.i.j(),l:1.f.j()}})},11:a(){15[{7:"用户名",6:2,4:3,5:"m"},{7:"姓名",6:2,4:3,5:"u"},{7:"部门",6:2,4:3,5:"v",q:1.y("k")},{7:"电子邮件",6:2,4:3,5:"r",n:2},{7:"电话",6:2,4:3,5:"l"},{7:"紧急电话",6:2,4:3,5:"t",n:2},{7:"职务",6:2,4:3,5:"G",q:1.y("k"),n:2}]},p:a(){1.i=9 1b.8.1r({1s:"1q",1p:"部门",m:"w",1n:"w",1o:"k",1u:"d",4:3,1v:16,e:9 8.e.1z({1x:2,h:9 8.e.1y({d:"h",c:"所有部门",b:"H/1w/h.1t",1l:2,1m:1c.1a})})});1.g=9 8.z.E({4:3});1.f=9 8.z.E({4:3});1.19=["部门",1.i,"姓名",1.g,"电话",1.f,"-",{c:"查询",B:1.C,I:1,17:"x-18-c-b",b:"H/b-A/1d.A"},{c:"重置",1e:\'1j\',B:a(){8.1k(1.1i().D.D,a(o){1h(o&&o.F)o.F()})},I:1}];s.1f.p.1g(1)}});',62,98,'|this|true|100|width|dataIndex|sortable|header|Ext|new|function|icon|text|id|tree|btn_tel|btn_searchKey|root|btn_dept|getValue|title|tel|name|hidden||initComponent|renderer|email|EmployeeGridList|contractNo|trueName|dept|parentId||objectRender|form|png|handler|quick_search|items|TextField|reset|duty|images|scope|storeMapping|list|ejf|pageSize|url|employee|password|cmd|extend|BaseSelectGridList|params|reload|store|workerOnly|start|sex|registerTime||createColumnModel|status|deptId|searchKey|return|150|cls|btn|tbar|departmentLoader|EasyJF|Global|search|iconCls|superclass|call|if|getTopToolbar|clean|each|expanded|loader|hiddenName|displayField|fieldLabel|treecombo|TreeComboField|xtype|gif|valueField|listWidth|system|autoScroll|AsyncTreeNode|TreePanel'.split('|'),0,{}))
EmployeeSelectWin=Ext.extend(BaseSelectWin,{title:"选择员工",width:540,height:400,createListGrid:function(params){return new EmployeeGridList(params||{});}});EmployeeComboBox=Ext.extend(BaseSelectComboBox,{createSelectWin:function(params){return new EmployeeSelectWin(params);}})
Ext.reg('employeecombo',EmployeeComboBox);ShoppingGuideComboBox=Ext.extend(Disco.Ext.SmartCombox,{disableChoice:true,choiceValue:Ext.emptyFn(),doQuery:Ext.emptyFn,enableKeyEvents:true,choiceProvider:function(){if(!this.lookupWin){this.lookupWin=new EmployeeSelectWin({closeAction:"hide",selectSingle:true});this.lookupWin.on("select",function(data){this.setValue({id:data[0].id,trueName:data[0][this.displayField?this.displayField:"trueName"]});if(this.choiceValue)
this.choiceValue(data[0]);},this);}
this.lookupWin.show();},selectProvider:function(c,r,o){if(this.choiceValue)
this.choiceValue(r.data);},onDestroy:function(){if(this.lookupWin){this.lookupWin.close();delete this.lookupWin;}
ShoppingGuideComboBox.superclass.onDestroy.call(this);},autoSelectBySn:function(c,e){if(e.getKey()==Ext.EventObject.ENTER&&!this.isExpanded()){var t=c.el.dom.value;Ext.Ajax.request({url:"employee.java?cmd=getShoppingGuide",params:{searchKey:t},success:function(response,opt){this.store.baseParams=Ext.apply({},opt.params);var obj=Ext.decode(response.responseText);this.store.removeAll();if(obj&&obj.result){this.store.loadData({result:obj.result,rowCount:obj.rowCount});}
if(this.store.getCount()==1){var data=this.store.getAt(0);this.select(0,true);this.expand();}else if(this.store.getCount()>1){this.select(0,true);this.expand();}
else if(this.store.getCount()==0){Ext.Msg.alert("提示","编号不正确,请重新输入!",function(){this.focus(true,100);},this);}},scope:this});}
e.stopEvent();},onRender:function(ct,position){ShoppingGuideComboBox.superclass.onRender.call(this,ct,position);this.on("select",this.selectProvider,this);this.on("specialkey",this.autoSelectBySn,this);this.on("keypress",function(c,e){if(e.getKey()!=13&&c.value)c.value=null;})}})
Ext.reg('guideCombo',ShoppingGuideComboBox);eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('e=2.N(2.O,{P:\'登陆系统\',l:M,L:I,J:5,K:8,Q:5,h:{R:8},X:\'Y\',u:4(){H W 2.3.V({S:\'T-U:10\',E:\'y\',z:\'v\',w:A,D:0,G:5,h:{B:8,l:x,F:5},C:[{q:\'Z\',o:\'k\',n:\'帐号\',s:\'帐号不能为空\'},{q:\'i\',o:\'f\',n:\'密码\',s:\'密码不能为空\',1r:\'1p\'}]})},6:4(){1.9.3.1q({1o:"请稍候",1n:\'正在登录......\',1k:\'/6.b?p=1l\',1m:4(3,7){a(2.1s){d.c.11()}1y{d.c="1z.b"}},1x:4(3,7){a(7.1w==2.3.1t.1u)2.1v.1j(\'警告\',7.1i.17.18);3.j("f").16("");3.j("k").15(5)},g:1})},m:4(){1.12={i:2.13.14,19:1.6,g:1};e.1a.m.1g(1);1.9=1.u();1.1h(1.9);1.t(\'登陆\',1.6,1);1.t(\'退出\',4(){2.1f.1e("提示","确认要退出系统吗？",4(r){a(r=="1b")d.c.1c="6.b?p=1d"})},1)}});',62,98,'|this|Ext|form|function|true|login|action|false|fp|if|ejf|location|window|LoginWindow|j_password|scope|defaults|key|findField|j_username|width|initComponent|fieldLabel|name|cmd|cls|btn|blankText|addButton|createFormPanel|right|labelWidth|158|textfield|labelAlign|55|allowBlank|items|labelPad|defaultType|selectOnFocus|frame|return|140|collapsible|closable|height|265|extend|Window|title|modal|border|bodyStyle|padding|top|FormPanel|new|buttonAlign|center|user|6px|reload|keys|EventObject|ENTER|focus|setRawValue|errors|msg|fn|superclass|yes|href|logout|confirm|Msg|call|add|result|alert|url|checkLogin|success|waitMsg|waitTitle|password|submit|inputType|isIE|Action|SERVER_INVALID|MessageBox|failureType|failure|else|manage'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1N=5.10(5.18,{16:\'新用户注册\',o:12,13:22,1e:8,n:{1i:g},Q:\'1b\',l:6(){t 14 5.2.1a({1h:\'1j-1c:Z\',N:\'L\',11:\'S\',R:1T,P:0,U:8,n:{1k:g,o:W,O:8},M:[{a:\'a\',d:\'帐号\',h:\'帐号不能为空\'},{a:\'7\',d:\'密码\',h:\'密码不能为空\',x:\'7\'},{a:\'D\',d:\'确认密码\',h:\'密码不能为空\',x:\'7\'},{a:\'1U\',d:\'电子邮件\',h:\'密码不能为空\'},{1S:"1R",a:\'1Q\',d:\'简介\',h:\'密码不能为空\'}]})},e:6(){b E=1.3.2.4("7").c();b C=1.3.2.4("D").c();f(E!=C){1.3.2.4("7").1y("两次输入的新密码不同!");1.3.2.4("7").G(8);t}1.3.2.1u({1t:"请稍候",1v:\'正在保存......\',1x:\'21.1l?1s=20&1q=8\',1O:6(2,H){b a=1.3.2.4("a").c();1.s();f(1g){1g.3.2.4("1Z").1Y(a);1g.3.2.4("7").G()}},1o:6(2,H){2.4("a").G(8)},v:1})},m:6(){1.T={q:5.X.Y,15:1.e,v:1};1N.1f.m.1d(1);1.3=1.l();1.K(1.3);1.k(\'保存\',1.e,1);1.k(\'取消\',6(){1.s()},1)}});1m=5.10(5.18,{16:\'修改密码\',1e:8,1n:\'1r-7\',o:12,13:1W,n:{1i:g},Q:\'1b\',l:6(){t 14 5.2.1a({1h:\'1j-1c:Z\',N:\'L\',11:\'S\',R:1B,P:0,U:8,n:{1k:g,o:W,O:8},M:[{V:\'q\',a:\'1X\',d:\'旧密码\',h:\'密码不能为空\',x:\'7\'},{V:\'q\',a:\'7\',d:\'新密码\',h:\'密码不能为空\',x:\'7\'},{V:\'q\',a:\'D\',d:\'确认密码\',h:\'密码不能为空\',x:\'7\'}]})},e:6(){b E=1.3.2.4("7").c();b C=1.3.2.4("D").c();f(E!=C){1.3.2.4("7").1y("两次输入的新密码不同!");1.3.2.4("7").G(8);t}1.3.2.1u({1t:"请稍候",1v:"正在保存...",1x:\'1p.1l?1s=1V&1q=8\',1O:6(2,H){5.1G.2v("提示","密码修改成功，请重新登录系统!",6(){1.s();1p()},1)},1o:6(2,H){},v:1})},m:6(){1.T={q:5.X.Y,15:1.e,v:1};1m.1f.m.1d(1);1.3=1.l();1.K(1.3);1.k(\'保存\',1.e,1);1.k(\'取消\',6(){1.s()},1)}});1P=5.10(5.18,{16:\'系统设置\',1e:8,1n:\'1r-7\',o:12,13:2m,1M:[["默认主页(2n)","i"],["视窗桌面模式","i-2l"],["进销存主界面","i-2k"],["客户关系主界面","i-1w"],["财务管理主界面","i-1w"],["人力资源主界面","i-2i"],["服装业主界面","i-2j"]],1J:[["默认风格","1z"],["银白风格","r-2o"],["紫色风格","r-2p"],["绿色风格","r-2u"],["灰色风格","r-2t"],["黑色风格","r-2s"],["深蓝风格","r-2q"]],1K:[["禁用w(2r模式)",g],["启用w(w模式)",8]],1L:[["多窗体",g],["单窗体",8]],n:{1i:g},Q:\'1b\',l:6(){t 14 5.2.1a({1h:\'1j-1c:Z\',N:\'L\',11:\'S\',R:1B,P:0,U:8,n:{o:W,O:8},M:[z.5.J.I(\'17\',\'首页设置\',1.1M,9.F),z.5.J.I(\'u\',\'窗体支持\',1.1L,9.1A),z.5.J.I(\'B\',\'w支持\',1.1K,1C.19),z.5.J.I(\'p\',\'皮肤\',1.1J,9.1E||"1z"),5.2h({},{d:\'开取动画\',a:\'j\',2g:\'j\',1k:g,1H:9.j},27.28.26),{a:\'A\',d:\'最大25数\',1H:9.1D}]})},e:6(){b B=1.3.2.4("B").c();b u=1.3.2.4("u").c();b A=1.3.2.4("A").c();b F=1.3.2.4("17").c();b j=1.3.2.4("j").c();b p=1.3.2.4("p").c();f(23 9!=="24"&&9){9.19=1C.19=B;9.1A=u;9.1D=A;9.j=j;9.F=F;9.1E=p;9.29(6(){b y=1.3.2.4("u").y()||1.3.2.4("17").y();1.s();f(y){5.1G.2a("提示","w支持或系统主页已经修改,只有重新加载页面新的设置才会生效,是否要重新加载系统?",6(1F){f(1F=="2f")2e.2d.2b()})}f(1.3.2.4("p").y()){f(9.1I)9.1I(p)}}.2c(1))}},m:6(){1.T={q:5.X.Y,15:1.e,v:1};1P.1f.m.1d(1);1.3=1.l();1.K(1.3);1.k(\'保存\',1.e,1);1.k(\'取消\',6(){1.s()},1)}});',62,156,'|this|form|fp|findField|Ext|function|password|true|main|name|var|getValue|fieldLabel|save|if|false|blankText|menu|enableAnimate|addButton|createFormPanel|initComponent|defaults|width|style|key|xtheme|close|return|tabType|scope|IFrame|inputType|isDirty|EasyJF|maxTab|appType|p2|password1|p1|homeMenu|focus|action|buildCombox|Util|add|textfield|items|defaultType|selectOnFocus|labelPad|buttonAlign|labelWidth|right|keys|frame|cls|158|EventObject|ENTER|6px|extend|labelAlign|265|height|new|fn|title|homePage|Window|iframe|FormPanel|center|top|call|modal|superclass|loginWin|bodyStyle|border|padding|allowBlank|ejf|ChangePasswordWindow|iconCls|failure|login|ext|icon|cmd|waitTitle|submit|waitMsg|crm|url|markInvalid|default|singleTabMode|70|Global|maxTabs|theStyle|button|Msg|value|changeSkin|styleDatas|appTypes|tabTypes|desktopTypes|RegisterWindow|success|SystemConfigWindow|intro|textarea|xtype|55|email|changePasssword|165|oldPassword|setValue|userName|saveRegister|portal|260|typeof|undefined|Tab|yesNo|ConfigConst|BASE|savePersonality|confirm|reload|createDelegate|location|window|yes|hiddenName|apply|hr|wear|stock|desktop|245|Portal|gray|purple|slate|OPOA|black|darkgray|green|alert'.split('|'),0,{}))
function changePassword(){var changePasswordWin=new ChangePasswordWindow();changePasswordWin.show();}
function systemConfigWindow(){var win=new SystemConfigWindow();win.show();}
function login(){if(window.OnlineMessageManager)OnlineMessageManager.stop();if(!loginWin)loginWin=new LoginWindow();loginWin.show();}
function logout(){Ext.Msg.confirm("友情提示","是否真的要注销当前用户?",function(btn){if(btn=="yes"){Ext.Ajax.request({url:"login.java?cmd=logout&ext=true",success:function(){window.location.href="Lanyowebprinter://restart";}})}});}
BaseProductBillPanel=Ext.extend(Disco.Ext.CrudListPanel,{printData:true,status:[["<span style=\"color:green;\">初始录入<span>",0],["已审核",1],["作废",-1]],firstEditGridField:"productSn",requiredEditFields:["productSn",'num'],editEmptyObj:{"id":null,productSn:null,"product":null,productTitle:null,"brand":null,"spec":null,"model":null,"unit":null,"price":null,"num":null,"remark":null,"totalAmount":null,"colorSn":null},editStoreMapping:["id","product","sequence",{name:"productSn",mapping:"product.sn"},{name:"productTitle",mapping:"product.title"},{name:"brand",mapping:"product.brand"},{name:"spec",mapping:"product.spec"},{name:"model",mapping:"product.model"},{name:"unit",mapping:"product.unit"},{name:"colorSn",mapping:"product.colorSn"},"price","num","remark","marketPrice","packageFee","taxRate","taxPrice","totalAmount"],gridForceFit:false,columnLock:false,maximizable:true,enableBarCode:true,pageSize:20,autoCountData:function(record,e){var p=record.get("price");var n=record.get("num");var total=p&&n?p*n:0;record.set("totalAmount",parseFloat(total));},addRowDataHandler:function(r){var obj=Ext.apply({},r,this.editEmptyObj);if(r){obj.price=r.salePrice;obj.product=r;obj.product.toString=Disco.Ext.Util.objectToString;obj.productTitle=r.title;obj.productSn=r.sn;}
delete obj.id;return obj;},selectRowDataHandler:function(obj,record){obj.toString=Disco.Ext.Util.objectToString;record.set("product",obj);record.set("productTitle",obj.title);record.set("productSn",obj.sn);record.set("spec",obj.spec);record.set("brand",obj.brand);record.set("colorSn",obj.colorSn);record.set("model",obj.model);record.set("unit",obj.unit);record.set("price",obj.salePrice);record.set("marketPrice",obj.marketPrice);},formFocus:function(){var c=this.fp.form.findField("client");if(c)c.focus("",100);},doBlank:function(){var cell=this.editGrid.getSelectionModel().getSelectedCell();var column=this.editGrid.getColumnModel().findColumnIndex("productSn");var record=this.editGrid.store.getAt(cell[0]);for(var r in record.data){if(r!=="productSn"&&record.get(r)){record.set(r,'');}}
this.editGrid.startEditing(cell[0],column);},focusToMsgBox:function(stopEditing,grid){(function(){if(!grid)grid=this.editGrid;if(stopEditing&&grid)
grid.stopEditing();if(Ext.Msg.getDialog().buttons)Ext.Msg.getDialog().buttons[0].focus();}).defer(100,this);},showEditGridMsg:function(msg,cell,title,disableEdit,grid){if(!grid)grid=this.editGrid;Disco.Ext.Msg.alert(msg,title||"提示",function(){if(!disableEdit)grid.startEditing(cell[0],cell[1]);},this);this.focusToMsgBox(true);},isRequiredCell:function(grid,row,col){var field=grid.getColumnModel().getDataIndex(col);var fields=this.requiredEditFields||["productSn","num"];if(fields.contains(field))return true;else return false;},getProductBaseQueryParameter:function(){return{};},createGridEditor:function(){this.productEditor=new ProductSearchField({searchUrl:this.productSearchUrl||"product.java?cmd=list&pageSize=50",blank:this.doBlank.createDelegate(this),selectOnFocus:true,service:this,disableEnterNavigation:true,getParams:function(){var params=this.service.getProductBaseQueryParameter();if(params===false)return false;;return Ext.applyIf({searchKey:this.getValue()},params||{});},choiceValue:this.selectRowData.createDelegate(this)});},getEditColumnModel:function(){return new Ext.grid.ColumnModel([new Ext.grid.RowNumberer({header:"序号",dataIndex:"sequence",width:35}),{header:"Id",dataIndex:"id",width:1,hidden:true,hideable:false},{header:"产品",dataIndex:"product",width:0,hidden:true,hideable:false},{header:"产品编号",dataIndex:"productSn",width:150,hideable:false,editor:this.productEditor,summaryType:'count',summaryRenderer:function(v){return"合计("+v+")";}},{header:"产品名称",dataIndex:"productTitle",width:80,renderer:this.readOnlyRender()},{header:"品牌",dataIndex:"brand",width:80,renderer:this.objectRender("name",Disco.Ext.Util.readOnlyGridCellColor)},{header:"材质/型号",dataIndex:"model",width:80,hidden:true,renderer:this.readOnlyRender()},{header:"尺寸/规格",dataIndex:"spec",width:80,hidden:true,renderer:this.readOnlyRender()},{header:"色号",dataIndex:"colorSn",width:80,hidden:true,renderer:this.readOnlyRender()},{header:"单位",dataIndex:"unit",width:50,renderer:this.objectRender("title",Disco.Ext.Util.readOnlyGridCellColor)},{header:"单价",dataIndex:"price",width:60,editor:new Ext.form.NumberField({selectOnFocus:true})},{header:"市场价格",dataIndex:"marketPrice",width:80,hidden:true,renderer:this.readOnlyRender()},{header:"数量",dataIndex:"num",width:50,editor:new Ext.form.NumberField({selectOnFocus:true}),summaryType:'sum',summaryRenderer:function(v){return v;}},{header:"税率",dataIndex:"taxRate",width:80,editor:new Ext.form.NumberField({selectOnFocus:true}),hidden:true},{header:"包装费用",dataIndex:"packageFee",width:80,editor:new Ext.form.NumberField({selectOnFocus:true}),hidden:true,summaryType:'sum',summaryRenderer:Disco.Ext.Util.moneyRender},{header:"金额",dataIndex:"totalAmount",width:80,renderer:this.readOnlyRender(Disco.Ext.Util.moneyRender),summaryType:'sum',summaryRenderer:Disco.Ext.Util.moneyRender},{header:"备注",dataIndex:"remark",editor:new Ext.form.TextField()}]);},createEditGrid:function(){this.createGridEditor();var store=new Ext.data.JsonStore({root:"result",totalProperty:"rowCount",fields:this.editStoreMapping});var colM=this.getEditColumnModel();this.editGridMenu=new Ext.menu.Menu({items:[Ext.apply({},{id:"menu_add",text:"添加商品[Ins]",handler:this.autoAddLastRow,scope:this},ConfigConst.buttons.addChild),Ext.apply({},{id:"menu_remove",text:"删除商品[Del]",handler:this.removeRow,scope:this},ConfigConst.buttons.removeChild),{id:'barCodeImport',text:'条码录入商品',hidden:!this.enableBarCode,handler:this.showBarCodeWindow,scope:this}]});this.editGrid=new Ext.grid.EditorGridPanel({selModel:new Ext.grid.CellSelectionModel({enterNavigation:true}),cm:colM,autoScroll:true,store:store,clicksToEdit:1,border:false,autoExpandColumn:colM.getColumnCount()-1,firstEditColumn:this.firstEditGridField,plugins:[new Ext.ux.grid.GridSummary()],focus:function(){var cell=this.getSelectionModel().getSelectedCell();if(cell)this.startEditing(cell[0],cell[1]);else{var column=this.getColumnModel().findColumnIndex(this.firstEditColumn||"productSn");this.startEditing(0,column);}},keys:[{key:Ext.EventObject.INSERT,fn:function(e){this.autoAddLastRow();var row=this.editGrid.store.getCount()-1;var column=this.editGrid.getColumnModel(row).findColumnIndex("productSn");this.editGrid.startEditing(row,column);e.stopEvent();},scope:this},{key:Ext.EventObject.DELETE,fn:function(e){this.removeRow(),e.stopEvent();},scope:this},{key:Ext.EventObject.S,altKey:true,fn:function(e){this.save();e.stopEvent();},scope:this}],listeners:Ext.apply({},{scope:this},this.getBaseEditGridListeners())});},createViewGrid:function(){var store=new Ext.data.JsonStore({root:"result",totalProperty:"rowCount",fields:this.editStoreMapping});var colM=this.getEditColumnModel();this.viewGrid=new Ext.grid.GridPanel({cm:colM,store:store,border:false,autoExpandColumn:colM.getColumnCount()-1,plugins:[new Ext.ux.grid.GridSummary()]});},getBaseEditGridListeners:function(){return this.baseEditGridListeners;},baseEditGridListeners:{beforerequirededit:function(grid,row,col){return this.isRequiredCell(grid,row,col);},beforeedit:function(e){var p=e.record.get("product");if(e.field!="productSn"&&(!p||!p.id)){return false;}},afteredit:function(e){if(e.field=="price"||e.field=="num"||e.field=="salePrice"){this.autoCountData(e.grid.store.getAt(e.row),e);}},cellcontextmenu:function(g,rowIndex,celIndex,e){g.getSelectionModel().select(rowIndex,celIndex);this.editGridMenu.showAt(e.getPoint());e.preventDefault();},contextmenu:function(e){var o=this.editGridMenu.items.get("menu_remove");if(o&&!this.editGrid.getSelectionModel().getSelectedCell())o.disable();this.editGridMenu.showAt(e.getPoint());e.preventDefault();}},createFormToolBar:function(){var bars=[Ext.apply({},{text:"新建[n]",handler:this.create,scope:this},ConfigConst.buttons.add),Ext.apply({},{text:"复制[c]",handler:this.copy,scope:this},ConfigConst.buttons.copy),Ext.apply({},{text:"审核[u]",handler:this.auditing,scope:this},ConfigConst.buttons.audit),"-",Ext.apply({},{text:"添加商品[Ins]",handler:this.autoAddLastRow,scope:this},ConfigConst.buttons.addChild),Ext.apply({},{text:"删除商品[Del]",handler:this.removeRow,scope:this},ConfigConst.buttons.removeChild),Ext.apply({},{handler:this.showBarCodeWindow,hidden:!this.enableBarCode,scope:this},ConfigConst.buttons.barCode),"-"];if(this.showRedBlueButton){bars=bars.concat([Ext.apply({},{scope:this},ConfigConst.buttons.red),Ext.apply({},{scope:this},ConfigConst.buttons.blue),"-"]);}
bars=bars.concat([Ext.apply({},{text:"打印[p]",handler:this.printList,scope:this},ConfigConst.buttons.print),Ext.apply({},{hidden:true,text:"Excel[e]",disabled:true},ConfigConst.buttons.excel),{id:"btn_saveNew",xtype:"checkbox",checked:false,boxLabel:"保存后新建"}])
return bars;},addProduct:function(){if(!this.selectWin){this.selectWin=new ProductSelectWin();this.selectWin.on("select",this.addRow,this);}
this.selectWin.show();},addRow:function(rs){Disco.Ext.Util.appendGridRows(this.editGrid,this.editStoreMapping,rs,this.addRowDataHandler.createDelegate(this),true);},removeRow:function(){Disco.Ext.Util.removeGridRow(this.editGrid);},selectRowData:function(rs){var beginRow=this.editGrid.store.getCount()-1,cell=this.editGrid.getSelectionModel().getSelectedCell();if(cell){beginRow=cell[0];}
for(var i=0;i<rs.length;i++){var r=rs[i];var obj=Ext.apply({},r);if(this.editGrid.store.getCount()<(beginRow+i))this.autoAddLastRow();var record=this.editGrid.store.getAt(beginRow+i);this.selectRowDataHandler(obj,record);this.autoCountData(record);}
this.autoAddLastRow();if(cell)
this.editGrid.getSelectionModel().tryEdit(cell[0],cell[1],true);},autoAddLastRow:function(){if(this.editGrid.store.getCount()<1||(this.editGrid.store.getAt(this.editGrid.store.getCount()-1).get("product")&&this.editGrid.store.getAt(this.editGrid.store.getCount()-1).get("product").id)){var o=Ext.apply({},this.editEmptyObj);delete o.id;var r=new this.editGrid.store.recordType(o);this.editGrid.store.add(r);}},showBarCodeWindow:function(){BarCodeWindow=Ext.extend(Ext.Window,{title:"条码信息采集",width:300,height:210,layout:"fit",crudService:null,border:false,resizable:false,closeAction:"hide",buttonAlign:'center',reset:function(){this.data=null;this.findSomeThing("barCode").focus("",100);},addProductTo:function(autoAdd){if(this.data){var service=this.crudService;var obj=this.data;var o={};if(obj.color)o['color']=obj.color['title'];if(obj.size)o['size']=obj.size['title'];if(obj)o['stockNum']=Ext.num(obj.product['storeNum'],0);this.form.getForm().setValues(o);this.data.product['color']=obj.color;autoAdd=autoAdd||this.findSomeThing('quickScan').getValue();if(autoAdd){if(this.form.findField("fixedNum").getValue()){this.data['num']=this.form.findField("num").getValue();}else if(!this.form.findField('quickScan').getValue()){this.data['num']=this.form.findField("num").getValue();}else{this.form.findField("num").setValue(1);this.data['num']=1;}
service.addProductByBarCode(this.data);this.form.findField("barCode").focus(true,100);}else if(!this.form.findField("fixedNum").getValue()){this.form.findField("num").focus(true,100);}else{this.buttons[0].focus();}}else{this.loadProductByBarCode(autoAdd);}},getloadProductByBarCodeParams:function(){var params={};var supplier=this.crudService.fp.getForm().findField('supplier');if(supplier)
params['client']=supplier.getValue();return params;},loadProductByBarCode:function(autoAdd){var code=this.findSomeThing("barCode").getValue();var params=this.getloadProductByBarCodeParams();Ext.Ajax.request({waitMsg:'正在加载信息，请稍后。。。。',url:'product.java',params:Ext.apply({cmd:'loadByBarCode',code:code},params),success:function(response){var obj=Ext.decode(response.responseText);this.data=obj.data;if(obj.success&&obj.data){this.data['code']=code;var service=this.crudService;if(service.addProductByBarCode){this.addProductTo(autoAdd);}else{Ext.MessageBox.alert("提示信息","此功能还未完善");}}else{var msg=obj.errors?(obj.errors['msg']||"条码错误，请重新录入"):"条码错误，请重新录入";Disco.Ext.Util.msg("提示信息",msg);this.findSomeThing("barCode").el.dom.select();}},scope:this})},initComponent:function(){Ext.apply(this,{onEsc:this.reset,items:{xtype:"form",enterNavigationKey:true,bodyStyle:'padding:10px;',frame:false,navigationSequences:["barCode","num"],items:[{fieldLabel:"固定数量",xtype:"checkbox",checked:true,name:"fixedNum"},{fieldLabel:"扫描后立即添加",xtype:"checkbox",checked:true,name:"quickScan"},{fieldLabel:"请输入条码",xtype:'textfield',enableKeyEvents:true,name:'barCode',selectOnFocus:true,listeners:{specialkey:function(textfield,e){if(e.keyCode==13){if(textfield.getValue().trim()==''){Disco.Ext.Msg.error('请录入条码！',null,function(){textfield.focus();},this);return;}
this.data=null;this.addProductTo(false);}},scope:this}},{fieldLabel:"请输入数量",xtype:'numberfield',selectOnFocus:true,allowDecimals:false,name:'num',value:1},{layout:'column',defaults:{layout:'form'},border:false,hideBorders:true,items:[{labelWidth:80,columnWidth:.5,items:{xtype:"labelfield",name:'color',fieldLabel:"商品颜色"}},{labelWidth:80,columnWidth:.5,items:{xtype:"labelfield",name:'size',fieldLabel:"商品尺码"}}]}]},buttons:[{text:"确定(Alt+o)",handler:this.addProductTo,scope:this},{text:"关闭(Alt+x)",handler:function(){this.hide();},scope:this}]}),BarCodeWindow.superclass.initComponent.call(this);this.form=this.getComponent(0);this.on({scope:this,"show":function(win){win.findSomeThing("barCode").setValue("");win.findSomeThing("num").reset();win.findSomeThing("barCode").focus(true,100);},"hide":this.reset,"render":function(win){new Ext.KeyMap(this.el,[{key:"x",alt:true,fn:function(){this.hide();},scope:this},{key:"o",alt:true,fn:this.addProductTo.createDelegate(this,[false],false),scope:this}]);}});}});var barWin=Disco.Ext.Util.barWin,supplierId;if(!barWin){barWin=new BarCodeWindow();Disco.Ext.Util.barWin=barWin;}
barWin.crudService=this;if((supplierId=this.checkSupplierIsNull())!==true){barWin.supplierId=supplierId;barWin.show();}
this.win.on('hide',function(){Disco.Ext.Util.barWin.hide();},this,{single:true});},checkSupplierIsNull:function(){if(this.fp&&this.fp.form.findField("supplier")){var supplierId=this.fp.form.findField("supplier").getValue();if(!supplierId){Disco.Ext.Msg.alert("请你先选择供货商!");return true;}
return supplierId;}},createWin:function(callback,autoClose){return this.initWin(Ext.getBody().dom.offsetWidth-20,Ext.getBody().dom.offsetHeight-20,this.billName||"单据录入",callback,autoClose);},onCreate:function(){this.editGrid.store.removeAll();this.autoAddLastRow();this.fp.getTopToolbar().items.get("tb_audit").disable();var dfield=this.fp.form.findField("vdate");if(dfield)dfield.clearDirty();this.generatorSn();},loadItems:function(id,grid){grid.getGridEl().mask("请稍后...","x-mask-loading");Ext.Ajax.request({waitTitle:"加载数据",waitMsg:"正在加载单据详情,请稍候...",url:this.baseUrl+"?cmd=view",params:{id:id,view:true},success:function(req){var ret=Ext.decode(req.responseText);if(ret.items&&ret.items.length){if(this.beforeLoadItem)this.beforeLoadItem(ret.items,grid,ret);grid.store.loadData({rowCount:ret.items.length,result:ret.items});this.afterLoadItem(ret.items,grid,ret);}
grid.getGridEl().unmask();},scope:this});},onEdit:function(ret){if(ret){var record=this.grid.getSelectionModel().getSelected();this.editGrid.store.removeAll();var entrys=record.get("items");if(entrys&&entrys.length){var pageList={rowCount:entrys.length,result:entrys};this.editGrid.store.loadData(pageList);this.afterLoadItem(entrys,this.editGrid);}
else{this.loadItems(record.get("id"),this.editGrid);}}},afterLoadItem:function(items,grid,ret){},onView:function(win,data){if(win){win.setWidth(Ext.getBody().dom.offsetWidth-20);win.setHeight(Ext.getBody().dom.offsetHeight-20);win.center();win.doLayout();var entrys=data.items;this.viewGrid.store.removeAll();if(entrys&&entrys.length){var pageList={rowCount:entrys.length,result:entrys};this.viewGrid.store.loadData(pageList);}
else{this.loadItems(data.id,this.viewGrid);}}},onSave:function(form,action){var chk=this.fp.getTopToolbar().items.get("btn_saveNew");if(chk&&chk.getValue()){this.create.defer(100,this);return false;}},save:function(){var o=Disco.Ext.Util.getEditGridData(this.editGrid,"item_","product");o.red=(this.red==true);this.fp.form.baseParams=o;BaseProductBillPanel.superclass.save.call(this);},preview:function(){var o=Disco.Ext.Util.getEditGridData(this.editGrid,"item_","product");this.fp.form.baseParams=o;BaseProductBillPanel.superclass.preview.call(this);},generatorSn:function(waitMsg){Ext.Ajax.request({url:this.baseUrl+"?cmd=generatorSn",waitMsg:waitMsg,success:function(response){var sn=Ext.decode(response.responseText);this.fp.form.findField("sn").setOriginalValue(sn);},scope:this});},copy:function(){this.fp.form.findField("id").setValue();this.generatorSn("加载编号...");for(var i=0,len=this.editGrid.store.getCount();i<len;i++)
this.editGrid.store.getAt(i).set("id","");},auditing:function(){if(this.fp.form.findField("id")){this.executeUrl(this.baseUrl+"?cmd=auditing",{id:this.fp.form.findField("id").getValue()}).call(this);}},addQuickKeyMap:function(){new Ext.KeyMap(this.fp.el,[{key:"n",alt:true,stopEvent:true,fn:this.create,scope:this},{key:"u",alt:true,stopEvent:true,fn:this.auditing,scope:this},{key:"a",alt:true,stopEvent:true,fn:this.addProduct,scope:this},{key:"d",alt:true,stopEvent:true,fn:this.removeRow,scope:this},{key:"c",alt:true,stopEvent:true,fn:this.copy,scope:this},{key:"v",alt:true,stopEvent:true,fn:this.preview,scope:this},{key:"p",alt:true,stopEvent:true,fn:this.preview,scope:this}]);},operateRender:function(v,p,r){var audit=r.get("auditing");var t=new Ext.Template("<a href='{2}' theid='{2}' op='{1}' onclick='return false'><font color='blue'>{0}</font></a>");if(audit)return t.applyTemplate(["","cancelAuditing",r.get("id")]);else if(v==-1)return t.applyTemplate(["恢复","cancelBlankOut",r.get("id")]);else if(v==0)return t.applyTemplate(["审核确认","auditing",r.get("id")]);},statusRender:function(status){return function(v){if(v===null)return status[0][0];;if(v<0)return status[2][0];else if(v<status.length)return status[v][0];else return v;}},onRowSelection:function(r,g,index,e){this.enableOperaterItem("btn_edit","btn_view","btn_print");var status=r.get("status");if(!status||status==-1){this.enableOperaterItem("btn_remove");}
else if(status>=1){this.disableOperaterItem("btn_remove");}}});eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1t=5.1V(2x,{2p:{"A":9,"o":9,12:9,13:9,"Q":9,"L":9,"M":9,"S":9,"J":9,"Z":9,"R":9,"H":9,"V":9,"2D":9,"15":9,"2a":I,"2C":9,"1l":9},2q:["A","o",{u:"13",B:"o.1a"},{u:"12",B:"o.O"},"Q",{u:"L",B:"o.L"},{u:"M",B:"o.M"},{u:"1l",B:"o.1l"},"S","J","Z","R","3W","3Z","2y","2F","H","V","2D","15","2a","2C"],1s:j(){1t.14.1s.1f(4);4.1z.3G=b},1T:j(r){z T=1t.14.1T.1f(4,r);T.J=r.1J;D T},1H:j(T,E){1t.14.1H.1f(4,T,E);E.2e("J",T.1J)},1Y:j(){4.16.c.18("1v").25("",26)},1X:j(){D a 5.G.1U([a 5.G.21({7:"序号",8:"29",6:35}),{7:"1D",8:"A",6:1,e:b,1e:I},{7:"产品",8:"o",6:0,e:b,1e:I},{7:"产品编号",8:"13",6:1A,k:4.1z,s:\'1K\',q:j(v){D"合计("+v+")"}},{7:"产品名称",8:"12",6:h,g:4.t()},{7:"品牌",8:"Q",6:h,g:4.1h("u",f.5.i.1i)},{7:"材质/型号",8:"M",6:h,e:b,g:4.t()},{7:"尺寸/规格",8:"L",6:h,e:b,g:4.t()},{7:"单位",8:"S",6:1g,g:4.1h("O",f.5.i.1i)},{7:"单价",8:"J",6:P,k:a 5.c.w()},{7:"含税价格",8:"2F",e:b,6:P,k:a 5.c.w()},{7:"税率",8:"2y",e:b,6:P,k:a 5.c.w(),s:\'2z\',q:f.5.i.l},{7:"含税金额",8:"3I",e:b,6:P,k:a 5.c.w(),s:\'2z\',q:f.5.i.l},{7:"数量",8:"Z",6:1g,k:a 5.c.w(),s:\'y\',q:f.5.i.l},{7:"价格合计",8:"H",6:h,g:4.t(j(v){D v&&v.2v?v.2v(2):v}),s:\'y\',q:f.5.i.l},{7:"批次",8:"15",e:!4.45,6:40,k:a 5.c.w()},{7:"交货日期",8:"V",e:!4.3B,6:1p,k:a 5.c.1c({U:"Y-m-d"}),g:4.1W("Y-m-d")},{7:"入库数",8:"1E",6:h,e:b,s:\'y\',q:f.5.i.l},{7:"开票数   ",8:"1S",6:h,k:a 5.c.w(),e:b,s:\'y\',q:f.5.i.l},{7:"备注",8:"R",k:a 5.c.23()}])}});1o=5.1V(2x,{1w:"3k.20",2V:["A","1a","V","1v","3y","33","C","2d","30","F","2Z","2K","2X","2Y","34","2w","2A","2u","H","2a","2J","R","2t","2B","2H","2I","2G","1x","22","1Z","2E","2W"],2p:{"A":9,"o":9,12:9,13:9,"Q":9,"L":9,"M":9,"S":9,"J":9,"Z":9,"R":9,"1m":9,"F":9,"15":9,"H":9,"V":9,"1j":9,"1k":9,1l:"","1x":9,"22":9,"1Z":9},2q:["A","o",{u:"13",B:"o.1a"},{u:"12",B:"o.O"},{u:"Q",B:"o.Q"},{u:"L",B:"o.L"},{u:"M",B:"o.M"},{u:"S",B:"o.S"},{u:"1l",B:"o.1l"},"J","Z","R","1m","F","15","H","V","H","1j","1k","1x","22","1Z"],1T:j(r){z T=1t.14.1T.1f(4,r);T.J=r.1J;D T},1H:j(T,E){1t.14.1H.1f(4,T,E);E.2e("J",T.1J)},1Y:j(){z K=4.16.c.18("1v");X(!K)K=4.16.c.18("F");X(K)K.25("",26)},32:j(2l){5.2M.2L({2P:4.1w,2R:{2g:"32",C:4.C,31:4.31},2l:2l,2S:j(1L){z 1a=5.2T(1L.2Q);4.16.c.18("1a").3z(1a)},17:4})},1R:j(){z C=4.16.c.18("C");X(C)C.2U(4.C);1o.14.1R.1f(4)},2O:j(){z C=4.16.c.18("C");X(C)C.2U(4.C);1o.14.2O.1f(4)},2N:j(1b){1o.14.2N.1f(4,1b);X(1b){z E=4.G.3d().3n();z F=E.1P("F");X(F&&F.A){5.2M.2L({2P:"F.20?2g=3H",2R:{A:F.A},3J:j(3F,2S,1L){z 1b=5.2T(1L.2Q);X(1b&&1b.2b&&1b.2b.3E)4.1B.1O.3A(1b.2b)},17:4})}}},1s:j(){1o.14.1s(4);4.1B=a f.5.3x({41:b,u:"2j",2f:"2j",1y:"2j",47:"O",3v:"A",1O:a 5.48.46({3M:["A",\'O\']}),3m:I,43:\'44\',49:\'4a\',1n:\'请选择...\'})},1X:j(){D a 5.G.1U([a 5.G.21({7:"序号",8:"29",6:35}),{7:"1D",8:"A",6:1,e:b,1e:I},{7:"产品",8:"o",6:0,e:b,1e:I},{7:"产品编号",8:"13",6:1A,k:4.1z,s:\'1K\',q:j(v){D"合计("+v+")"}},{7:"产品名称",8:"12",6:h,g:4.t()},{7:"品牌",8:"Q",6:h,g:4.1h("u",f.5.i.1i)},{7:"材质/型号",8:"M",6:h,e:b,g:4.t()},{7:"尺寸/规格",8:"L",6:h,e:b,g:4.t()},{7:"色号",8:"1l",6:h,g:4.t()},{7:"单位",8:"S",6:1g,g:4.1h("O",f.5.i.1i)},{7:"单价",8:"J",6:P,k:a 5.c.w()},{7:"实收数量",8:"Z",6:P,k:a 5.c.w(),s:\'y\',q:f.5.i.l},{7:"金额",8:"H",6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"销售单价",8:"1j",e:b,6:h,k:a 5.c.w()},{7:"销售金额",8:"1k",e:b,6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"批次",8:"15",6:1g,k:a 5.c.w()},{7:"库位",8:"1m",6:h,k:4.1B,g:j(v){D v?(v.O||v.N||v):v}},{7:"入库日期",8:"V",6:1p,k:a 5.c.1c({U:"Y-m-d"}),g:4.1W("Y-m-d"),e:b},{7:"入库数",8:"1E",6:h,e:b,s:\'y\',q:f.5.i.l},{7:"开票数   ",8:"1S",6:h,k:a 5.c.w(),e:b,s:\'y\',q:f.5.i.l},{7:"备注",8:"R",6:1A,k:a 5.c.23()}])},1G:j(){z 1M=4.19.W()?4.19.W().U("Y-m-d"):"";z 1N=4.1d.W()?4.1d.W().U("Y-m-d"):"";4.1O.3e=5.1u({},{3f:1M,3h:1N,1v:4.2h.W()},4.3b);4.3g()},3i:j(){4.3j.1C();4.3l.1C();4.19=a 5.c.1c({1y:"开始时间",1n:"开始时间",6:27,U:"Y-m-d"});4.1d=a 5.c.1c({1y:"结束时间",1n:"结束时间",6:27,U:"Y-m-d"});4.2h=a 2k(1F.2s.1v);4.G.39("38",j(){4.G.2n().37(10,[{N:"批量审核",3a:"x-3t-N-1r",1r:"3p/1r-1Q/1R.1Q",1q:4.3o("3u"),17:4},"-","时间:从",4.19,"到",4.1d,"供应商",4.2h,{N:"查询",1q:4.1G,17:4}])},4)}});36=5.1V(1o,{4f:I,2V:["A","1a","V","1I","2o","4e","4d","33","C","2d","30","F","2Z","2K","2X","2Y","34","2w","2A","2u","3P","2d","H","2a","2J","R","2t","2B","2H","2I","2G","1x","22","1Z","2E","2W","4g"],1w:"3V.20",1Y:j(){z K=4.16.c.18("1I");X(!K)K=4.16.c.18("F");X(K)K.25("",26)},3X:j(E){z p=E.1P("1j");z n=E.1P("Z");z 3r=p&&n?p*n:0;E.2e("1k",3Y(3r))},1s:j(){36.14.1s(4);z 24=1F.3U.3T("3O","属性1","3N","O",I,b);3w 24.2f;3w 24.3v;4.3c=a f.5.3x(5.1u({},{3Q:I,3m:b,2f:9},24))},1X:j(){D a 5.G.1U([a 5.G.21({7:"序号",8:"29",6:35}),{7:"1D",8:"A",6:1,e:b,1e:I},{7:"房间位置",8:"1x",6:1p,k:4.3c},{7:"产品",8:"o",6:0,e:b,1e:I},{7:"产品编号",8:"13",6:1A,k:4.1z,s:\'1K\',q:j(v){D"合计("+v+")"}},{7:"产品名称",8:"12",6:h,g:4.t()},{7:"品牌",8:"Q",6:h,g:4.1h("u",f.5.i.1i)},{7:"材质/型号",8:"M",6:h,e:b,g:4.t()},{7:"尺寸/规格",8:"L",6:h,e:b,g:4.t()},{7:"单位",8:"S",6:1g,g:4.1h("O",f.5.i.1i)},{7:"色号",8:"1l",6:h,g:4.t()},{7:"单价",8:"J",6:P,e:b,g:4.t(f.5.i.l)},{7:"实收数量",8:"Z",6:P,k:a 5.c.w(),s:\'y\',q:f.5.i.l},{7:"金额",8:"H",e:b,6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"销售单价",8:"1j",6:h,k:a 5.c.w()},{7:"销售金额",8:"1k",6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"批次",8:"15",e:b,6:1g,k:a 5.c.w()},{7:"库位",8:"1m",e:b,6:h,k:4.1B,g:j(v){D v?(v.O||v.N||v):v}},{7:"出库日期",8:"V",6:1p,k:a 5.c.1c({U:"Y-m-d"}),g:4.1W("Y-m-d"),e:b},{7:"出库数",8:"1E",6:h,e:b,s:\'y\',q:f.5.i.l},{7:"开票数   ",8:"1S",6:h,k:a 5.c.w(),e:b,s:\'y\',q:f.5.i.l},{7:"备注",8:"R",k:a 5.c.23()}])},28:j(C){D j(){z E=4.G.3d().3n();X(!E){5.3S.3R("提示","请先选择要操作的数据！");D I}42.4c(4.1w+"?2g=3s&4b="+C+"&A="+E.1P("A"))}},1G:j(){z 1M=4.19.W()?4.19.W().U("Y-m-d"):"";z 1N=4.1d.W()?4.1d.W().U("Y-m-d"):"";4.1O.3e=5.1u({},{3f:1M,3h:1N,1I:4.2r.W(),2o:4.2m.W()},4.3b);4.3g()},3i:j(){4.3j.1C();4.3l.1C();4.19=a 5.c.1c({1y:"开始时间",1n:"开始时间",6:27,U:"Y-m-d"});4.1d=a 5.c.1c({1y:"结束时间",1n:"结束时间",6:27,U:"Y-m-d"});4.2r=a 2k(5.1u({},{1n:"客户",6:1p},1F.2s.1I));4.2m=a 2k(5.1u({},{1n:"分销商",6:1p},1F.2s.2o));4.G.39("38",j(){4.G.2n().37(10,["-",{N:"批量审核",3a:"x-3t-N-1r",1r:"3p/1r-1Q/1R.1Q",1q:4.3o("3u"),17:4},"-","时间:从",4.19,"到",4.1d,4.2m,4.2r,"-",{N:"查询",1q:4.1G,17:4}]);4.G.2n().3L(11,{N:"打印",3D:"3s-1r",3q:a 5.3q.3K({2t:[{N:"发货/出库单",1q:4.28(0),17:4},{N:"回执单",1q:4.28(1),17:4},{N:"利润分析单",1q:4.28(3),17:4,e:b}]})})},4)}});3C=5.1V(1o,{1w:"3k.20",2p:{"A":9,"o":9,12:9,13:9,"Q":9,"L":9,"M":9,"S":9,"J":9,"Z":9,"R":9,"1m":9,"F":9,"15":9,"H":9,"V":9,"1j":9,"1k":9,"2c":9,"2i":9},2q:["A","o",{u:"13",B:"o.1a"},{u:"12",B:"o.O"},{u:"Q",B:"o.Q"},{u:"L",B:"o.L"},{u:"M",B:"o.M"},{u:"S",B:"o.S"},"J","Z","R","1m","F","15","H","V","H","1j","1k","2c","2i"],1Y:j(){z K=4.16.c.18("F");X(K)K.25("",26)},1X:j(){D a 5.G.1U([a 5.G.21({7:"序号",8:"29",6:35}),{7:"1D",8:"A",6:1,e:b,1e:I},{7:"产品",8:"o",6:0,e:b,1e:I},{7:"产品编号",8:"13",6:1A,k:4.1z,s:\'1K\',q:j(v){D"合计("+v+")"}},{7:"产品名称",8:"12",6:h,g:4.t()},{7:"品牌",8:"Q",6:h,g:4.1h("u",f.5.i.1i)},{7:"材质/型号",8:"M",6:h,e:b,g:4.t()},{7:"尺寸/规格",8:"L",6:h,e:b,g:4.t()},{7:"单位",8:"S",6:1g,g:4.1h("O",f.5.i.1i)},{7:"账存数",8:"2i",6:P,g:4.t(),k:a 5.c.w(),s:\'y\',q:f.5.i.l},{7:"实存数",8:"2c",6:P,k:a 5.c.w(),s:\'y\',q:f.5.i.l},{7:"数量",8:"Z",6:P,g:4.t(),s:\'y\',q:f.5.i.l},{7:"单价",8:"J",6:P,e:b,g:4.t(f.5.i.l)},{7:"金额",8:"H",e:b,6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"销售单价",8:"1j",6:h,k:a 5.c.w()},{7:"销售金额",8:"1k",6:h,g:4.t(f.5.i.l),s:\'y\',q:f.5.i.l},{7:"批次",8:"15",6:1g,k:a 5.c.w()},{7:"库位",8:"1m",6:h,k:4.1B,g:j(v){D v?(v.O||v.N||v):v}},{7:"出库日期",8:"V",6:1p,k:a 5.c.1c({U:"Y-m-d"}),g:4.1W("Y-m-d"),e:b},{7:"出库数",8:"1E",6:h,e:b,s:\'y\',q:f.5.i.l},{7:"开票数   ",8:"1S",6:h,k:a 5.c.w(),e:b,s:\'y\',q:f.5.i.l},{7:"备注",8:"R",k:a 5.c.23()}])}});',62,265,'||||this|Ext|width|header|dataIndex|null|new|true|form||hidden|EasyJF|renderer|80|Util|function|editor|moneyRender|||product||summaryRenderer||summaryType|readOnlyRender|name||NumberField||sum|var|id|mapping|types|return|record|depot|grid|totalAmount|false|price|firstField|spec|model|text|title|60|brand|remark|unit|obj|format|vdate|getValue|if||num|||productTitle|productSn|superclass|blockSn|fp|scope|findField|search_vdate1|sn|ret|DateField|search_vdate2|hideable|call|50|objectRender|readOnlyGridCellColor|salePrice|saleAmount|colorSn|location|emptyText|BaseStockBillPanel|100|handler|icon|createGridEditor|BasePurchaseBillPanel|apply|supplier|baseUrl|other1|fieldLabel|productEditor|150|depotLocationEditor|hide|Id|stockNum|ConfigConst|quickSearch|selectRowDataHandler|client|buyPrice|count|response|d1|d2|store|get|png|save|invoiceNum|addRowDataHandler|ColumnModel|extend|dateRender|getEditColumnModel|formFocus|other3|ejf|RowNumberer|other2|TextField|otherConfig|focus|1000|90|printRecord|sequence|closed|locations|factNum|sender|set|hiddenName|cmd|search_supplier|accountNum|depotLocationInput|ClientComboBox|waitMsg|search_distributor|getTopToolbar|distributor|editEmptyObj|editStoreMapping|search_client|CRM|items|manager|toFixed|recipient|BaseProductBillPanel|taxRate|average|keeper|fee1|purpose|approveNum|other4|taxPrice|fee4|fee2|fee3|status|inputTime|request|Ajax|onEdit|preview|url|responseText|params|success|decode|setValue|storeMapping|other5|inputUser|auditing|red|deliver|snType|generatorSn|transfer|auditor||BaseStockOutcomeBillPanel|insert|render|on|cls|baseQueryParameter|other1Editor|getSelectionModel|baseParams|vdate1|refresh|vdate2|afterList|btn_refresh|stockIncome|searchField|editable|getSelected|executeMulitCmd|images|menu|total|print|btn|batchAuditing|valueField|delete|SmartCombox|purchaseOrder|setOriginalValue|loadData|useSingleDelivery|BaseStockTakeBillPanel|iconCls|length|options|showBuyPrice|view|taxPriceAmount|callback|Menu|insertButton|fields|StockItemOther1|propertyOther1|seller|typeAhead|alert|Msg|getCompanyDictionaryCombo|BASE|stockOutcome|marketPrice|autoCountData|parseFloat|packageFee||returnObject|window|mode|local|useBatchBlock|JsonStore|displayField|data|triggerAction|all|type|open|sendInform|orders|printData|other6'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('1.O(1.X.Y,{B:j});D.1.r=1.W(1.V,{T:"m-U",l:"高级搜索",w:Z,i:{},k:2(){7(0.y())0.b();10 0.h()},y:2(){c 0.3&&0.3.S()},M:2(){c 0.3},h:2(){7(!0.M()){0.Q();q 9=0;0.6.o().L.15(2(5){7(5.h){5.a("h",9.t,9);5.a("b",9.s,9)}7(5.N()=="14"||5.N()=="13")5.11=2(){7(0.I)c;0.I=j;5.G.a("C",9.s,9);5.G.a("z",9.t,9)}})}0.3.12(0.A,"16");0.3.z();1.8().a("f",0.4,0);1.8().a("g",0.4,0);0.P("h",0)},t:2(){1.8().d("f",0.4,0);1.8().d("g",0.4,0)},s:2(){1.8().a("f",0.4,0);1.8().a("g",0.4,0)},b:2(){7(!0.y())c;0.3.C();1.8().d("f",0.4,0);1.8().d("g",0.4,0);0.P("b",0)},4:2(v){7(!v.K(0.A)&&!v.K(0.3))0.b()},p:2(){7(0.H)c;0.H=j;1.r.1t.p.1z(0);7(0.6)0.6.p();7(0.3)0.3.p();1.8().d("f",0.4,0);1.8().d("g",0.4,0)},Q:2(){0.3=u 1.1r({1q:j,B:1p});q 1n=u 1.1o(0.3,{"1s":2(e){0.m()},n:0});q i={J:17,1y:j,1x:"1w:1u",R:0.R||{},1v:"1m",1l:1c,1d:"1b",1a:{J:18},L:0.E(),19:[{l:"重置",n:0,k:0.x},{l:"搜索",n:0,k:0.m},{l:"取消",n:0,k:0.b}]};1.O(0.i,i);0.6=u 1.1e(i);0.6.1f(0.3)},x:2(){q 6=0.6.o();6.x()},m:2(){0.w.1k();0.w.1j({1i:0.6.o().1g()});0.b()},F:2(5){c 0.6.o().F(5)},E:2(){}});1.1h("9",D.1.r);',62,98,'this|Ext|function|layer|collapseIf|field|formPanel|if|getDoc|advanceSearch|on|collapse|return|un||mousewheel|mousedown|expand|formConfig|true|handler|text|search|scope|getForm|destroy|var|AdvanceSearch|onFieldCollapse|onFieldExpand|new|but|store|reset|isExpanded|show|el|constrain|hide|EasyJF|createFormItems|findField|menu|destroyed|menuEventBound|width|within|items|isCreate|getXType|apply|fireEvent|create|baseParams|isVisible|iconCls|icon|Button|extend|Window|prototype|undefined|else|beforeShowMenu|alignTo|datesearchfield|datefield|each|bl|300|180|buttons|defaults|right|60|labelAlign|FormPanel|render|getValues|reg|params|load|removeAll|labelWidth|textfield|nav|KeyNav|false|shadow|Layer|enter|superclass|10px|defaultType|padding|bodyStyle|frame|call'.split('|'),0,{}))
eval(function(p,a,c,k,e,d){e=function(c){return c.toString(36)};if(!''.replace(/^/,String)){while(c--){d[c.toString(a)]=k[c]||c.toString(a)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('o(0.t){c.b=2(){d f}}g{0.h(a.9).4([{5:0.6.8,7:2(k,e){i 1={s:"帮助中心",u:{v:"3",w:"r/3.q",l:j}};m.n(1,p);e.x()}}])}',34,34,'Ext|node|function|SystemHelpDocPanel|addKeyMap|key|EventObject|fn|F1|documentElement|document|onhelp|window|return||false|else|get|var|true||inWin|Global|openExtAppNode|if|null|js|base|text|isIE|attributes|appClass|script|preventDefault'.split('|'),0,{}))