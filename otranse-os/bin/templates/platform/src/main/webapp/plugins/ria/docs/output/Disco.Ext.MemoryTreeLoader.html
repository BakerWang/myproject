<div xmlns:ext="http://www.extjs.com" class="body-wrap"><h1>Class <a href="source/core-3.2.html#cls-Disco.Ext.MemoryTreeLoader">Disco.Ext.MemoryTreeLoader</a></h1><table cellspacing="0"><tr><td class="label">Package:</td><td class="hd-info">Disco</td></tr><tr><td class="label">Defined In:</td><td class="hd-info">core-3.2.js,&#13;core-3.2.js</td></tr><tr><td class="label">Class:</td><td class="hd-info"><a href="source/core-3.2.html#cls-Disco.Ext.MemoryTreeLoader">Ext.MemoryTreeLoader</a></td></tr><tr><td class="label">Extends:</td><td class="hd-info">Ext.tree.TreeLoader</td></tr></table><div class="description">支持本地缓存节点的树加载器<br/> 一般在系统中不经常变动的树状结构都使用该缓存树加载器。<br/>
在不同的模块中可以使用同一个树加载器。一般设置为Global下的一个属性。
<pre>
<code><b>if</b> (!Global.platformMenuLoader) {
Global.platformMenuLoader = <b>new</b> Disco.Ext.MemoryTreeLoader({
iconCls : <em>'disco-tree-node-icon'</em>,
varName : &quot;Global.PLATFORM_MENU_NODES&quot;,
url : &quot;systemMenu.java?cmd=getTree&amp;pageSize=-1&amp;treeData=true&amp;all=true&quot;,
listeners : {
<em>'beforeload'</em> : <b>function</b>(treeLoader, node) {
treeLoader.baseParams.id = (node.id.indexOf(<em>'root'</em>) &lt; 0
? node.id
: &quot;&quot;);
<b>if</b> (<b>typeof</b> node.attributes.checked !== &quot;undefined&quot;) {
treeLoader.baseParams.checked = false;
}
}
}
});
}</code>
</pre></div><div class="hr"></div><a id="Disco.Ext.MemoryTreeLoader-configs"></a><h2>Config Options</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Config Options</th><th class="msource-header">Defined By</th></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-baseAttrs"></a><b><a href="source/core-3.2.html#cfg-Disco.Ext.MemoryTreeLoader-baseAttrs">baseAttrs</a></b> : Object<div class="mdesc">为每一个节点对象配置基础的属性。这些属性会自动加到每一个节点对象上</div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-remoteObject"></a><b><a href="source/core-3.2.html#cfg-Disco.Ext.MemoryTreeLoader-remoteObject">remoteObject</a></b> : Object<div class="mdesc">可以自己配置缓存树加载器数据缓存对象。默认使用Disco.Ext.CachedRemoteObject</div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-transferNode"></a><b><a href="source/core-3.2.html#cfg-Disco.Ext.MemoryTreeLoader-transferNode">transferNode</a></b> : Function|Object<div class="mdesc">配置创建树节点的方法或属性。<br/>
如果该属性是一个方法，则会传入从后台请求到的每一个节点对象作为该方法的参数。<br/>
如果该属性是一个对象，则会自动讲该对象中的属性加入到节点对象中。<br/></div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="config-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-varName"></a><b><a href="source/core-3.2.html#cfg-Disco.Ext.MemoryTreeLoader-varName">varName</a></b> : (String<div class="mdesc">配置缓存的名称</div></td><td class="msource">Ext.MemoryTreeLoader</td></tr></tbody></table><a id="Disco.Ext.MemoryTreeLoader-props"></a><h2>Public Properties</h2><div class="no-members">This class has no public properties.</div><a id="Disco.Ext.MemoryTreeLoader-methods"></a><h2>Public Methods</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Method</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-cascadeNode"></a><b><a href="source/core-3.2.html#method-Disco.Ext.MemoryTreeLoader-cascadeNode">cascadeNode</a></b>(&nbsp;<code>Ext.data.Node&nbsp;node</code>,&nbsp;<code>Function&nbsp;fn</code>,&nbsp;<code>Object&nbsp;scope</code>,&nbsp;<code>Object|Array&nbsp;args</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">从一个树节点级联向下完成某一个funcion</div><div class="long">从一个树节点级联向下完成某一个funcion<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>node</code> : Ext.data.Node<div class="sub-desc">开始的节点</div></li><li><code>fn</code> : Function<div class="sub-desc">对每一个节点要执行的方法</div></li><li><code>scope</code> : Object<div class="sub-desc">function执行的作用域</div></li><li><code>args</code> : Object|Array<div class="sub-desc">执行function的参数</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-deepFindNode"></a><b><a href="source/core-3.2.html#method-Disco.Ext.MemoryTreeLoader-deepFindNode">deepFindNode</a></b>(&nbsp;<code>Object&nbsp;id</code>,&nbsp;<code>Ext.data.Node&nbsp;node</code>&nbsp;)
    :
                                        Ext.data.Node<div class="mdesc"><div class="short">从一个指定节点开始向下寻找匹配指定id的节点</div><div class="long">从一个指定节点开始向下寻找匹配指定id的节点<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>id</code> : Object<div class="sub-desc">要匹配的id值</div></li><li><code>node</code> : Ext.data.Node<div class="sub-desc">开始寻找的节点</div></li></ul><strong>Returns:</strong><ul><li><code>Ext.data.Node</code><div class="sub-desc">找到的匹配节点</div></li></ul></div></div></div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-findNode"></a><b><a href="source/core-3.2.html#method-Disco.Ext.MemoryTreeLoader-findNode">findNode</a></b>(&nbsp;<code>Object&nbsp;id</code>,&nbsp;<code>Object|Array&nbsp;objs</code>&nbsp;)
    :
                                        Object<div class="mdesc"><div class="short">从一组定节点中寻找匹配指定id的节点</div><div class="long">从一组定节点中寻找匹配指定id的节点<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>id</code> : Object<div class="sub-desc"></div></li><li><code>objs</code> : Object|Array<div class="sub-desc">指定的节点。如果是数组，则将数组中的节点作为寻找的对象。如果是一个Object，则将对象下的item属性作为寻找的对象。</div></li></ul><strong>Returns:</strong><ul><li><code>Object</code><div class="sub-desc">找到的节点对象</div></li></ul></div></div></div></td><td class="msource">Ext.MemoryTreeLoader</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Disco.Ext.MemoryTreeLoader-load"></a><b><a href="source/core-3.2.html#method-Disco.Ext.MemoryTreeLoader-load">load</a></b>(&nbsp;<code>Ext.data.Node&nbsp;node</code>,&nbsp;<code>Function&nbsp;callback</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">加载节点下的数据</div><div class="long">加载节点下的数据<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>node</code> : Ext.data.Node<div class="sub-desc">要加载下级数据的节点</div></li><li><code>callback</code> : Function<div class="sub-desc">在加载完成后的回调方法</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Ext.MemoryTreeLoader</td></tr></tbody></table><a id="Disco.Ext.MemoryTreeLoader-events"></a><h2>Public Events</h2><div class="no-members">This class has no public events.</div></div>