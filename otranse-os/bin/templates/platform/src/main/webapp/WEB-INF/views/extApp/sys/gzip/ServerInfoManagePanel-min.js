ServerInfoManagePanel=Ext.extend(Ext.Panel,{border:false,layout:"border",margins:"5 5 5 5",initComponent:function(){this.initBorderLayout();this.initAllEvent();ServerInfoManagePanel.superclass.initComponent.call(this)},initBorderLayout:function(){this.grid=new Ext.grid.PropertyGrid({title:"\u93c8\u5d85\u59df\u9363\u3125\u7180\u93c8\ue104\u53a4\u7f03\ufffd",width:320,split:true,collapseMode:"mini",region:"west",source:null});this.grid.getColumnModel().setColumnWidth(0,35);this.jvm=new Ext.Panel({title:"JVM\u9350\u546d\u74e8\u9429\u621e\u5e36\u7459\u55d7\u6d58",region:"center",autoScroll:true});this.items=[this.grid,this.jvm]},initAllEvent:function(){this.grid.on("render",function(b){var a={url:"serverInfo.java?cmd=config",success:function(c){var d=Ext.decode(c.responseText);b.setSource(d)}};Ext.Ajax.request(a)},this);this.grid.on("beforeedit",function(a){});this.jvm.on("render",function(){var d=this.jvm.body.dom;var c="/plugins/chart/Charts/FusionCharts.js";var b=this.jvm.getWidth();var a=this.jvm.getHeight();this.jvm.body.setStyle({"text-align":"center","padding-top":"50px"});Disco.loadJs(c,false,function(){var f="/charts.json";var e={width:500,height:400,renderTo:d};var h='<chart manageResize="1" caption="CPU\u9286\u4f78\u5534\u701b\u6a39\u5a07\u9422\u3127\u5dfc\u7039\u70b4\u6902\u9429\u621e\u5e36(Html5 for WebSocket Demo)" bgColor="ffffff" bgAlpha="100" canvasBorderThickness="1" canvasBorderColor="013475" canvasBgColor="f8f8f8" yAxisMaxValue="100"  decimals="0" numdivlines="9" numVDivLines="28" numDisplaySets="30" divLineColor="013475" vDivLineColor="013475" divLineAlpha="100" chartLeftMargin="10" baseFontColor="000000" showRealTimeValue="0" numberSuffix="%" labelDisplay="rotate" slantLabels="1" toolTipBgColor="ea09f2" toolTipBorderColor="013475" baseFontSize="11" showAlternateHGridColor="0" legendBgColor="ffffff" legendBorderColor="013475" legendPadding="35" showLabels="1">\n<categories>\n<category label="\u5bee\ufffd\u6fee\ufffd"/>\n</categories>\n<dataset color="e107fb" seriesName="CPU\u6d63\u8de8\u6564\u941c\ufffd" showValues="0" alpha="100" anchorAlpha="0" lineThickness="1">\n<set value="0" />\n</dataset>\n<dataset color="4e4aff" seriesName="\u9350\u546d\u74e8\u6d63\u8de8\u6564\u941c\ufffd" showValues="0" alpha="100" anchorAlpha="0" lineThickness="1">\n<set value="0" />\n</dataset>\n</chart>';var g=new FusionCharts("/plugins/chart/Charts/RealTimeLine.swf","serviceInfoManage","650","400","0","1");g.setXMLData(h);g.render(d);window.dataUpdateTimer=null;FusionCharts.addEventListener("Rendered",function(k,j){if(k.sender.id=="tmpChartId"){return}window.dataUpdateTimer=window.setInterval(function(){i(k.sender)},2000)});function i(k){var n=k.feedData?k:null;var m=Math.round(Math.random()*100);var l=Math.round(Math.random()*100);var j=new Date().format("H:i:s");if(n){Ext.Ajax.request({async:false,url:"serverInfo.java?cmd=getCpuAndMem",success:function(o){n.feedData(o.responseText)}})}}},null,Disco.ajaxCache)},this)}});
