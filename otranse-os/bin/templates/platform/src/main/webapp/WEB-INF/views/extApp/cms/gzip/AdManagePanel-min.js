AdManagePanel=Ext.extend(Disco.Ext.CrudPanel,{id:"adManagePanel",baseUrl:"adManage.java",gridSelModel:"checkbox",gridSelModel:"checkbox",fileUpload:true,pageSize:20,batchRemoveMode:true,position:[["\u5bb8\ufe3f\u6676",1],["\u9359\u5145\u6676",2],["\u6d93\ue162\u5134\u95ab\u6c2d\u722e",3],["\u6d93\ue162\u5134\u5a4a\u6c2c\u59e9\u95ab\u6c2d\u722e",4]],positionFormat:function(a){if(a==1){return"\u5bb8\ufe3f\u6676"}else{if(a==2){return"\u9359\u5145\u6676"}else{if(a==3){return"\u6d93\ue162\u5134\u95ab\u6c2d\u722e"}else{if(a==4){return"\u6d93\ue162\u5134\u5a4a\u6c2c\u59e9\u95ab\u6c2d\u722e"}}}}},isValid:[["\u935a\ue21c\u6564",1],["\u7ec2\u4f7a\u6564",2]],isValidFormat:function(a){if(a==1){return"\u935a\ue21c\u6564"}else{if(a==2){return"\u7ec2\u4f7a\u6564"}}},createForm:function(){var a=new Ext.form.FormPanel({frame:true,labelWidth:80,fileUpload:true,labelAlign:"right",defaults:{width:320,xtype:"textfield"},items:[{xtype:"hidden",name:"id"},{fieldLabel:"\u935a\u5d87\u041e",name:"advertName",emptyText:"\u935a\u5d87\u041e\u6d93\u5d88\u5158\u6d93\u8679\u2516",allowBlank:false,blankText:"\u935a\u5d87\u041e\u6d93\u5d88\u5158\u6d93\u8679\u2516"},{fieldLabel:"\u95be\u70ac\u5e34\u9366\u677f\u6f43",name:"advertUrl"},{xtype:"combo",name:"position",hiddenName:"position",fieldLabel:"\u6d63\u5d87\u7586",displayField:"title",valueField:"value",store:new Ext.data.SimpleStore({fields:["title","value"],data:this.position}),editable:false,mode:"local",triggerAction:"all"},{xtype:"fileuploadfield",emptyText:"\u95ab\u590b\u5ae8\u6d93\u5a41\u7d36\u93c2\u56e6\u6b22",fieldLabel:"\u9a9e\u57ae\u61a1\u9473\u5c7e\u6ad9\u9365\u5267\u5896",name:"advertPath",buttonText:"\u95ab\u590b\u5ae8",listeners:{fileselected:function(d,b){var e="";var c="";if(b!=null){e=b.split(".")[1];c=e.toUpperCase()}if(e!=""&&e!="undefined"){if(c!="BMP"&&c!="PNG"&&c!="GIF"&&c!="JPG"&&c!="JPEG"){Ext.Msg.alert("\u6dc7\u2103\u4f05\u93bb\u612e\u305a","\u9359\ue047\u5158\u6d93\u5a41\u7d36\u9365\u5267\u5896,\u9365\u5267\u5896\u95c4\u612a\u7c2cbmp,png,gif,jpeg,jpg\u93cd\u714e\u7d21");d.setValue("")}}}}},{xtype:"combo",name:"isValid",hiddenName:"isValid",fieldLabel:"\u9418\u8235\ufffd\ufffd",displayField:"title",valueField:"value",allowBlank:false,blankText:"\u9418\u8235\ufffd\u4f77\u7b09\u9473\u6212\u8d1f\u7ecc\ufffd",store:new Ext.data.SimpleStore({fields:["title","value"],data:this.isValid}),editable:false,mode:"local",triggerAction:"all",emptyText:"\u7487\u70fd\ufffd\u590b\u5ae8..."},{xtype:"numberfield",fieldLabel:"\u93ba\u6391\u7c2d",name:"sort"}]});return a},userRender:function(a){return a?a.trueName:"$!{lang.get('Unknown')}"},createWin:function(){return this.initWin(450,250,"\u68e3\u682d\u3009\u9a9e\u57ae\u61a1\u7ee0\uff04\u608a")},storeMapping:["id","advertName","advertPath","advertUrl","position","createTime","isValid","sort"],initComponent:function(){this.cm=new Ext.grid.ColumnModel([{header:"\u935a\u5d87\u041e",sortable:true,width:100,dataIndex:"advertName"},{header:"\u74ba\ue21a\u7dde",sortable:true,width:100,dataIndex:"advertPath"},{header:"\u95be\u70ac\u5e34\u9366\u677f\u6f43",sortable:true,width:100,dataIndex:"advertUrl"},{header:"\u6d63\u5d87\u7586",sortable:true,width:100,dataIndex:"position",renderer:this.positionFormat},{header:"\u6d93\u5a41\u7d36\u93c3\u5815\u68ff",sortable:true,width:100,dataIndex:"createTime",renderer:this.dateRender()},{header:"\u9418\u8235\ufffd\ufffd",sortable:true,width:100,dataIndex:"isValid",renderer:this.isValidFormat},{header:"\u93ba\u6391\u7c2d",sortable:true,width:40,dataIndex:"sort"}]);AdManagePanel.superclass.initComponent.call(this)}});
